<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMATE TRENING IPSec - 80 Pyta≈Ñ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; color: #333; line-height: 1.6; margin: 0; padding: 20px; }
        .container { max-width: 950px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #eee; padding-bottom: 20px; }
        
        /* Sekcja notatki */
        .note-section { background-color: #e3f2fd; border-left: 6px solid #2196f3; padding: 20px; margin-bottom: 40px; border-radius: 5px; }
        .note-section h2 { margin-top: 0; color: #1565c0; }
        .note-section ul { margin-bottom: 15px; }
        .highlight { font-weight: bold; color: #d32f2f; }

        /* Style pyta≈Ñ */
        .question-block { margin-bottom: 30px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background: #fafafa; transition: transform 0.2s; }
        .question-block:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        
        .question-text { font-size: 1.1em; margin-bottom: 15px; font-weight: 600; }
        
        /* SPECJALNY STYL DLA PYTA≈É ZE ZDJƒòƒÜ */
        .source-question { 
            font-size: 1.25em; 
            font-weight: 800; 
            color: #c0392b; 
            border-left: 5px solid #c0392b; 
            padding-left: 10px;
            background-color: #fff5f5;
        }

        .type-badge { font-size: 0.85em; color: #7f8c8d; font-style: italic; display: block; margin-bottom: 10px; }

        /* Odpowiedzi */
        .options { list-style-type: none; padding: 0; }
        .option { margin: 8px 0; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; transition: all 0.2s; background: white; display: flex; align-items: center; }
        .option:hover { border-color: #bdc3c7; background-color: #f9f9f9; }
        
        /* Inputy */
        input[type="radio"], input[type="checkbox"] { margin-right: 15px; transform: scale(1.2); cursor: pointer; }

        /* Kolory weryfikacji */
        .correct-clicked { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724; }
        .wrong-clicked { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }

        /* Wynik */
        #result-box { margin-top: 30px; padding: 25px; background: #34495e; color: #fff; font-size: 1.3em; text-align: center; border-radius: 8px; display: none; }
        button.check-btn { display: block; width: 100%; padding: 18px; background-color: #27ae60; color: white; border: none; border-radius: 8px; font-size: 1.3em; font-weight: bold; cursor: pointer; margin-top: 30px; transition: background 0.3s; }
        button.check-btn:hover { background-color: #219150; }

        .legend { font-size: 0.9em; margin-bottom: 20px; text-align: center; color: #555; }
        .source-tag { display: inline-block; background: #c0392b; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7em; margin-left: 10px; vertical-align: middle; }
    </style>
</head>
<body>

<div class="container">
    <h1>Kompleksowy Trening IPSec & VPN (80 Pyta≈Ñ)</h1>
    
    <div class="legend">
        <span style="color: #c0392b; font-weight: 800;">Czerwony i pogrubiony tekst</span> = Pytania ze zdjƒôƒá (PEWNIAKI)
    </div>

    Oto rozszerzona i sformatowana w HTML wersja notatki (≈õciƒÖgi), przygotowana tak, aby≈õ m√≥g≈Ç jƒÖ podmieniƒá w sekcji <div class="note-section"> w swoim kodzie.

Zachowa≈Çem ca≈ÇƒÖ tre≈õƒá, o kt√≥rƒÖ prosi≈Çe≈õ, i rozbudowa≈Çem jƒÖ o dodatkowe szczeg√≥≈Çy techniczne (np. numery protoko≈Ç√≥w, mnemotechnikƒô HAGLE, stany QM_IDLE), kt√≥re czƒôsto pojawiajƒÖ siƒô na egzaminach.

Skopiuj poni≈ºszy kod i wklej go w miejsce starej sekcji <div class="note-section">...</div>:

HTML

    <div class="note-section">
        <h2 style="border-bottom: 2px solid #2196f3; padding-bottom: 10px;">üìò KOMPENDIUM WIEDZY IPSEC (≈öciƒÖga Egzaminacyjna)</h2>
        
        <h3>I. TEMATYKA: NAG≈Å√ìWKI (AH vs ESP)</h3>
        <p style="color: #c0392b; font-weight: bold;">‚ö†Ô∏è To najczƒôstsze ≈∫r√≥d≈Ço pyta≈Ñ podchwytliwych!</p>
        
        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #e74c3c; margin-bottom: 10px;">
            <h4>1. AH (Authentication Header) - Protok√≥≈Ç IP nr 51</h4>
            <ul>
                <li><strong>G≈Ç√≥wna cecha:</strong> Zapewnia integralno≈õƒá i uwierzytelnianie, ale <span style="background-color: #ffebee; color: #c0392b; padding: 2px 5px; font-weight: bold;">NIE SZYFRUJE (brak poufno≈õci)</span>.</li>
                <li><strong>Co chroni:</strong> Chroni przed modyfikacjƒÖ danych oraz przed atakami typu replay (anti-replay).</li>
                <li><strong>Wa≈ºne:</strong> W pytaniach testowych czƒôsto pada pytanie ‚ÄûCo zapewnia poufno≈õƒá?‚Äù. Je≈õli zaznaczysz AH ‚Äì to b≈ÇƒÖd.</li>
                <li><strong>Problem z NAT:</strong> AH nie dzia≈Ça przez NAT (bo NAT zmienia nag≈Ç√≥wek IP, co psuje sumƒô kontrolnƒÖ integralno≈õci).</li>
            </ul>
        </div>

        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #27ae60; margin-bottom: 10px;">
            <h4>2. ESP (Encapsulating Security Payload) - Protok√≥≈Ç IP nr 50</h4>
            <ul>
                <li><strong>G≈Ç√≥wna cecha:</strong> Zapewnia <span style="background-color: #e8f5e9; color: #2e7d32; padding: 2px 5px; font-weight: bold;">POUFNO≈öƒÜ (szyfrowanie)</span>, a tak≈ºe integralno≈õƒá i uwierzytelnianie.</li>
                <li><strong>Struktura:</strong> Posiada nag≈Ç√≥wek (ESP Header), stopkƒô (ESP Trailer) i sumƒô kontrolnƒÖ (ESP Auth).</li>
                <li><strong>NAT:</strong> Dzia≈Ça z NAT (dziƒôki NAT-Traversal / UDP 4500).</li>
            </ul>
        </div>

        <p><strong>3. R√≥≈ºnica w pakiecie (Wa≈ºne do pyta≈Ñ obrazkowych):</strong></p>
        <ul>
            <li><strong>AH:</strong> Wstawiany jest <em>pomiƒôdzy</em> nag≈Ç√≥wek IP a dane (tryb transportowy) lub po nowym nag≈Ç√≥wku IP (tryb tunelowy).</li>
            <li><strong>ESP:</strong> <em>Otacza</em> dane (Dane sƒÖ ‚Äûw ≈õrodku‚Äù miƒôdzy nag≈Ç√≥wkiem a stopkƒÖ ESP).</li>
        </ul>

        <hr>

        <h3>II. TEMATYKA: TRYBY PRACY (Transportowy vs Tunelowy)</h3>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <div style="background: white; padding: 10px; border: 1px solid #ddd;">
                <h4>1. Tryb Transportowy (Transport Mode)</h4>
                <ul>
                    <li><strong>Zastosowanie:</strong> Po≈ÇƒÖczenia <strong>End-to-End</strong> (Host-do-Hosta, PC-Serwer, RDP).</li>
                    <li><strong>Pakiet:</strong> <span style="color: #d35400; font-weight: bold;">Zachowuje oryginalny nag≈Ç√≥wek IP</span>. Nag≈Ç√≥wek IPSec wchodzi do ≈õrodka.</li>
                    <li><strong>Schemat:</strong> <code>[IP Oryg] [IPSec] [Dane]</code></li>
                    <li><strong>Co jest chronione:</strong> Tylko ≈Çadunek (payload).</li>
                </ul>
            </div>
            <div style="background: white; padding: 10px; border: 1px solid #ddd;">
                <h4>2. Tryb Tunelowy (Tunnel Mode)</h4>
                <ul>
                    <li><strong>Zastosowanie:</strong> Po≈ÇƒÖczenia <strong>Site-to-Site</strong> (Brama-Brama, Router-Router). Domy≈õlny dla VPN firmowych.</li>
                    <li><strong>Pakiet:</strong> Oryginalny pakiet jest kapsu≈Çkowany. Powstaje <span style="color: #8e44ad; font-weight: bold;">NOWY nag≈Ç√≥wek IP</span> (bram VPN).</li>
                    <li><strong>Schemat:</strong> <code>[IP Nowy] [IPSec] [IP Oryg] [Dane]</code></li>
                    <li><strong>Co jest chronione:</strong> Ca≈Çy oryginalny pakiet IP.</li>
                </ul>
            </div>
        </div>

        <hr>

        <h3>III. KONFIGURACJA PARAMETR√ìW W KONKRETNYCH FAZACH</h3>
        <p style="color: #2980b9;">To jest kluczowe zdanie z maila. Musisz wiedzieƒá, kt√≥ry parametr nale≈ºy do kt√≥rej fazy.</p>

        <h4 style="background: #e3f2fd; padding: 5px;">FAZA I (ISAKMP / IKE)</h4>
        <p><strong>Cel:</strong> Uwierzytelnienie urzƒÖdze≈Ñ i ustalenie kluczy do szyfrowania kana≈Çu zarzƒÖdzajƒÖcego (Management Plane).</p>
        <ul>
            <li><strong>Protok√≥≈Ç:</strong> ISAKMP / IKE (UDP port 500).</li>
            <li><strong>Polecenie startowe:</strong> <code>crypto isakmp policy &lt;numer&gt;</code></li>
            <li><strong>Mnemotechnika HAGLE (Parametry):</strong>
                <ul>
                    <li><strong>H</strong>ash: Algorytm skr√≥tu (MD5, SHA).</li>
                    <li><strong>A</strong>uthentication: Metoda uwierzytelniania (<code>pre-share</code> [has≈Ço], <code>rsa-sig</code> [certyfikaty]).</li>
                    <li><strong>G</strong>roup: Grupa Diffie-Hellman (<code>group 1, 2, 5</code>) ‚Äì im wy≈ºsza, tym silniejszy klucz.</li>
                    <li><strong>L</strong>ifetime: Czas ≈ºycia tunelu (sekundy).</li>
                    <li><strong>E</strong>ncryption: Szyfrowanie kana≈Çu (DES, 3DES, AES).</li>
                </ul>
            </li>
            <li><strong>Klucz (has≈Ço):</strong> Definiowane osobno: <code>crypto isakmp key ... address ...</code></li>
        </ul>

        <h4 style="background: #e3f2fd; padding: 5px;">FAZA II (IPSec)</h4>
        <p><strong>Cel:</strong> Szyfrowanie w≈Ça≈õciwych danych u≈ºytkownika (Data Plane).</p>
        <ul>
            <li><strong>Obiekt konfiguracyjny:</strong> Transform-set (zestaw transformacji).</li>
            <li><strong>Polecenie startowe:</strong> <code>crypto ipsec transform-set &lt;nazwa&gt; &lt;parametry&gt;</code></li>
            <li><strong>Parametry definiowane W TEJ FAZIE:</strong>
                <ul>
                    <li>Algorytm szyfrowania danych: np. <code>esp-aes</code> lub <code>esp-des</code>.</li>
                    <li>Algorytm integralno≈õci danych: np. <code>esp-sha-hmac</code> lub <code>esp-md5-hmac</code>.</li>
                    <li><span style="color: red; font-weight: bold;">TRYB TUNELU:</span> To jest pu≈Çapka! Tryb (tunnel/transport) ustawia siƒô w Fazie II wewnƒÖtrz transform-set poleceniem <code>mode tunnel</code>.</li>
                </ul>
            </li>
        </ul>

        <hr>

        <h3>IV. POLECENIA CISCO (Mapowanie teorii na praktykƒô)</h3>
        
        <ol>
            <li><strong>Tworzenie ‚ÄûinteresujƒÖcego ruchu‚Äù (Crypto ACL):</strong>
                <br><code>access-list 101 permit ip 192.168.1.0 0.0.0.255 10.0.0.0 0.0.0.255</code>
                <br>Definiuje, co ma byƒá szyfrowane. <em>Uwaga: u≈ºywamy masek odwrotnych (wildcard)!</em>
            </li>
            
            <li><strong>Sk≈Çadanie wszystkiego w ca≈Ço≈õƒá (Crypto Map):</strong>
                <br>To polecenie ≈ÇƒÖczy Fazƒô I, Fazƒô II i ACL.
                <br><code>crypto map &lt;nazwa&gt; &lt;nr&gt; ipsec-isakmp</code>
                <ul>
                    <li><code>match address &lt;nr_acl&gt;</code> (jaki ruch?)</li>
                    <li><code>set peer &lt;ip_zdalne&gt;</code> (do kogo?)</li>
                    <li><code>set transform-set &lt;nazwa_faza_2&gt;</code> (jak szyfrowaƒá?)</li>
                </ul>
            </li>

            <li><strong>Uruchomienie:</strong>
                <br>Nale≈ºy wej≈õƒá na interfejs wyj≈õciowy (np. WAN) i wpisaƒá: <code>crypto map &lt;nazwa&gt;</code>.
            </li>

            <li><strong>Weryfikacja (Diagnostyka):</strong>
                <ul>
                    <li><code>show crypto isakmp policy</code> ‚Äì sprawdza ustawienia Fazy I.</li>
                    <li><code>show crypto isakmp sa</code> ‚Äì stan tunelu Fazy I (szukaj statusu <strong>QM_IDLE</strong> - to oznacza sukces!).</li>
                    <li><code>show crypto ipsec sa</code> ‚Äì <span style="font-weight: bold; color: green;">NAJWA≈ªNIEJSZE!</span> Pokazuje aktywne tunele, liczbƒô zaszyfrowanych (encaps)/odszyfrowanych (decaps) pakiet√≥w.</li>
                    <li><code>show crypto map</code> ‚Äì pokazuje konfiguracjƒô mapy.</li>
                </ul>
            </li>
        </ol>

        <hr>

        <h3>V. ALGORYTMY I POJƒòCIA</h3>
        
        <div style="background: #f9f9f9; padding: 10px; border-radius: 5px;">
            <p><strong>Kategorie algorytm√≥w:</strong></p>
            <ul>
                <li><strong>Symetryczne (Poufno≈õƒá/Szyfrowanie):</strong> DES, 3DES, AES (najlepszy), RC4. <em>Cechy: Jeden klucz do szyfrowania i deszyfrowania, szybkie.</em></li>
                <li><strong>Asymetryczne (Wymiana kluczy/Podpis):</strong> RSA (podpisy), Diffie-Hellman (wymiana kluczy). <em>Cechy: Para kluczy (prywatny/publiczny), wolne.</em></li>
                <li><strong>Funkcje skr√≥tu (Integralno≈õƒá/Hash):</strong> MD5, SHA-1, SHA-256. <em>Cechy: Jednokierunkowe, sprawdzajƒÖ czy dane nie zosta≈Çy zmienione.</em></li>
            </ul>
            <p><strong>Kluczowe definicje:</strong></p>
            <ul>
                <li><strong>SA (Security Association):</strong> Relacja zabezpiecze≈Ñ. Jest <span style="text-decoration: underline;">jednokierunkowa</span>. Definiowana przez: SPI, Adres docelowy, Protok√≥≈Ç (AH/ESP).</li>
                <li><strong>SPI (Security Parameter Index):</strong> Numer identyfikacyjny tunelu w nag≈Ç√≥wku IPSec.</li>
                <li><strong>PFS (Perfect Forward Secrecy):</strong> Wymusza generowanie nowych kluczy dla ka≈ºdej sesji (nie bazuje na poprzednich).</li>
            </ul>
        </div>
    </div>

    <form id="quiz-form">
        <div id="questions-container"></div>
    </form>

    <button class="check-btn" onclick="checkScore()">Zako≈Ñcz i Sprawd≈∫ Wynik</button>
    <div id="result-box"></div>
</div>

<script>
    /* BAZA PYTA≈É
       isSource: true -> pytania ze zdjƒôƒá (pogrubione)
       type: 'multi' (wielokrotny) lub 'single' (jednokrotny)
    */
    const questionsDB = [
        // ==========================================
        // PYTANIA ZE ZDJƒòƒÜ (8 sztuk) - PRIORYTETOWE
        // ==========================================
        {
            question: "Jakie elementy pakietu sƒÖ zabezpieczane w protokole IPSec AH w trybie tunelowym? (Zaznacz poprawne)",
            type: "multi",
            isSource: true,
            answers: [
                { text: "poufno≈õƒá pola danych", correct: false },
                { text: "uwierzytelnianie ≈∫r√≥d≈Ça transmisji", correct: true },
                { text: "czas dostarczenia", correct: false },
                { text: "trasa pakietu", correct: false },
                { text: "integralno≈õƒá pola danych", correct: true }
            ]
        },
        {
            question: "Rodzaj algorytmu szyfrowania tunelu IPsec definiowany jest:",
            type: "single",
            isSource: true,
            answers: [
                { text: "w fazie II konfiguracji tunelu", correct: true },
                { text: "ustawiany jest automatycznie w trakcie zestawiania tunelu", correct: false },
                { text: "w fazie I konfiguracji tunelu", correct: false },
                { text: "w trakcie definiowania crypto-map'y", correct: false }
            ]
        },
        {
            question: "IKE to:",
            type: "single",
            isSource: true,
            answers: [
                { text: "faza I IPsec", correct: false },
                { text: "protok√≥≈Ç wymiany kluczy w fazie II", correct: false },
                { text: "protok√≥≈Ç wymiany kluczy w fazie I", correct: true },
                { text: "faza II IPsec", correct: false }
            ]
        },
        {
            question: "Polecenie 'crypto isakmp policy nr' s≈Çu≈ºy do:",
            type: "single",
            isSource: true,
            answers: [
                { text: "powiƒÖzania listy ACL z tunelem", correct: false },
                { text: "wskazania polityki, kt√≥rej akcjƒÖ bƒôdzie zestawienie tunelu", correct: false },
                { text: "rozpoczƒôcia konfiguracji parametr√≥w fazy I", correct: true },
                { text: "powiƒÖzania tunelu z listƒÖ ACL wskazujƒÖcƒÖ ruch do szyfrowania", correct: false }
            ]
        },
        {
            question: "Mianem ISAKMP przyjƒô≈Ço siƒô okre≈õlaƒá:",
            type: "single",
            isSource: true,
            answers: [
                { text: "klucze asymetryczne", correct: false },
                { text: "drugƒÖ fazƒô IPsec", correct: false },
                { text: "klucze symetryczne", correct: false },
                { text: "pierwszƒÖ fazƒô IPsec", correct: true }
            ]
        },
        {
            question: "Jakie elementy pakietu sƒÖ zabezpieczane w protokole IPSec AH w trybie transportowym? (Zaznacz poprawne)",
            type: "multi",
            isSource: true,
            answers: [
                { text: "uwierzytelnianie ≈∫r√≥d≈Ça transmisji", correct: true },
                { text: "trasa pakietu", correct: false },
                { text: "poufno≈õƒá pola danych", correct: false },
                { text: "integralno≈õƒá pola danych", correct: true },
                { text: "czas dostarczenia", correct: false }
            ]
        },
        {
            question: "Typ tunelu (transportowy lub tunelowy) definiuje siƒô:",
            type: "single",
            isSource: true,
            answers: [
                { text: "w fazie II konfiguracji tunelu", correct: true },
                { text: "ustawiany jest automatycznie", correct: false },
                { text: "w fazie I konfiguracji tunelu", correct: false },
                { text: "w trakcie definiowania crypto-map'y", correct: false }
            ]
        },
        {
            question: "Jakie elementy pakietu sƒÖ zabezpieczane w protokole IPSec ESP w trybie transportowym? (Zaznacz poprawne)",
            type: "multi",
            isSource: true,
            answers: [
                { text: "trasƒô pakietu", correct: false },
                { text: "uwierzytelnianie ≈∫r√≥d≈Ça transmisji", correct: true },
                { text: "poufno≈õƒá pola danych", correct: true },
                { text: "integralno≈õƒá pola danych", correct: true },
                { text: "czas wys≈Çania", correct: false }
            ]
        },

        // ==========================================
        // PYTANIA Z POPRZEDNIEJ BAZY (TEORIA I PODSTAWY)
        // ==========================================
        {
            question: "Kt√≥ry protok√≥≈Ç zapewnia POUFNO≈öƒÜ (szyfrowanie) przesy≈Çanych danych?",
            type: "single",
            answers: [
                { text: "AH (Authentication Header)", correct: false },
                { text: "ESP (Encapsulating Security Payload)", correct: true },
                { text: "IKE", correct: false },
                { text: "ISAKMP", correct: false }
            ]
        },
        {
            question: "W kt√≥rym trybie pracy IPSec oryginalny nag≈Ç√≥wek IP jest zachowany (niezmieniony)?",
            type: "single",
            answers: [
                { text: "Tryb tunelowy", correct: false },
                { text: "Tryb transportowy", correct: true },
                { text: "W obu trybach", correct: false },
                { text: "W ≈ºadnym z tryb√≥w", correct: false }
            ]
        },
        {
            question: "Kt√≥re polecenie s≈Çu≈ºy do sprawdzenia aktywnych tuneli IPSec (SA) i licznik√≥w pakiet√≥w?",
            type: "single",
            answers: [
                { text: "show crypto isakmp policy", correct: false },
                { text: "show crypto map", correct: false },
                { text: "show crypto ipsec sa", correct: true },
                { text: "debug crypto ipsec", correct: false }
            ]
        },
        {
            question: "W kt√≥rej fazie konfiguracji definiuje siƒô grupƒô Diffie-Hellmana (komenda 'group')?",
            type: "single",
            answers: [
                { text: "Faza I (ISAKMP)", correct: true },
                { text: "Faza II (IPSec)", correct: false },
                { text: "Podczas tworzenia Crypto ACL", correct: false },
                { text: "Podczas przypisywania mapy do interfejsu", correct: false }
            ]
        },
        {
            question: "Jaki jest g≈Ç√≥wny cel stosowania listy kontroli dostƒôpu (ACL) w konfiguracji VPN IPSec?",
            type: "single",
            answers: [
                { text: "Blokowanie wirus√≥w", correct: false },
                { text: "Definiowanie ruchu, kt√≥ry ma zostaƒá zaszyfrowany (interesujƒÖcy ruch)", correct: true },
                { text: "Uwierzytelnianie u≈ºytkownik√≥w", correct: false },
                { text: "Konfiguracja routingu dynamicznego", correct: false }
            ]
        },
        {
            question: "Gdzie konfiguruje siƒô polecenie 'mode tunnel'?",
            type: "single",
            answers: [
                { text: "W konfiguracji ISAKMP Policy (Faza I)", correct: false },
                { text: "W konfiguracji Transform-Set (Faza II)", correct: true },
                { text: "W konfiguracji interfejsu", correct: false },
                { text: "Globalnie w trybie konfiguracji", correct: false }
            ]
        },
        {
            question: "Czym jest 'Transform-Set' w IPSec?",
            type: "single",
            answers: [
                { text: "Zbiorem parametr√≥w Fazy I (wymiany kluczy)", correct: false },
                { text: "ListƒÖ dozwolonych adres√≥w IP", correct: false },
                { text: "Zbiorem algorytm√≥w szyfrowania i haszowania dla danych (Faza II)", correct: true },
                { text: "Kluczem wsp√≥≈Çdzielonym (Pre-shared key)", correct: false }
            ]
        },
        {
            question: "Kt√≥ry algorytm s≈Çu≈ºy do weryfikacji integralno≈õci (jest funkcjƒÖ skr√≥tu)?",
            type: "single",
            answers: [
                { text: "AES", correct: false },
                { text: "3DES", correct: false },
                { text: "SHA-1", correct: true },
                { text: "Diffie-Hellman", correct: false }
            ]
        },
        {
            question: "Kt√≥ry algorytm jest przyk≈Çadem algorytmu asymetrycznego u≈ºywanego przy wymianie kluczy?",
            type: "single",
            answers: [
                { text: "AES", correct: false },
                { text: "Diffie-Hellman", correct: true },
                { text: "MD5", correct: false },
                { text: "DES", correct: false }
            ]
        },
        {
            question: "Co robi nag≈Ç√≥wek AH (Authentication Header) z poufno≈õciƒÖ danych?",
            type: "single",
            answers: [
                { text: "Szyfruje dane u≈ºywajƒÖc AES", correct: false },
                { text: "Szyfruje dane u≈ºywajƒÖc DES", correct: false },
                { text: "Nie zapewnia poufno≈õci (nie szyfruje danych)", correct: true },
                { text: "Szyfruje tylko nag≈Ç√≥wek IP", correct: false }
            ]
        },
        {
            question: "W trybie tunelowym, co dzieje siƒô z oryginalnym pakietem IP?",
            type: "single",
            answers: [
                { text: "Jest usuwany i zastƒôpowany nowym", correct: false },
                { text: "Jest modyfikowany (zmieniany jest TTL)", correct: false },
                { text: "Jest kapsu≈Çkowany (pakowany) w ca≈Ço≈õci w nowy pakiet IP", correct: true },
                { text: "Jest wysy≈Çany bez zmian obok pakietu szyfrowanego", correct: false }
            ]
        },
        {
            question: "Jakie polecenie ≈ÇƒÖczy ACL, Peer IP i Transform-set w jednƒÖ ca≈Ço≈õƒá?",
            type: "single",
            answers: [
                { text: "crypto isakmp policy", correct: false },
                { text: "crypto map", correct: true },
                { text: "ip route", correct: false },
                { text: "access-group", correct: false }
            ]
        },
        {
            question: "Co oznacza skr√≥t SA?",
            type: "single",
            answers: [
                { text: "System Administrator", correct: false },
                { text: "Security Association (Relacja zabezpiecze≈Ñ)", correct: true },
                { text: "Secure Algorithm", correct: false },
                { text: "Socket Address", correct: false }
            ]
        },
        {
            question: "Relacja zabezpiecze≈Ñ (SA) jest z natury:",
            type: "single",
            answers: [
                { text: "Dwukierunkowa", correct: false },
                { text: "Jednokierunkowa", correct: true },
                { text: "Bezkierunkowa", correct: false },
                { text: "Zale≈ºna od protoko≈Çu routingu", correct: false }
            ]
        },
        {
            question: "Kt√≥ry z poni≈ºszych algorytm√≥w szyfrowania symetrycznego jest najbezpieczniejszy (standardowy)?",
            type: "single",
            answers: [
                { text: "DES", correct: false },
                { text: "AES", correct: true },
                { text: "MD5", correct: false },
                { text: "RC4", correct: false }
            ]
        },
        {
            question: "Us≈Çuga 'anti-replay' (zapobieganie powt√≥rzeniom) jest dostƒôpna w:",
            type: "single",
            answers: [
                { text: "Tylko w AH", correct: false },
                { text: "Tylko w ESP", correct: false },
                { text: "Zar√≥wno w AH jak i ESP", correct: true },
                { text: "W ≈ºadnym z nich", correct: false }
            ]
        },
        {
            question: "Konfiguracja 'crypto isakmp key cisco address 10.0.0.1' ustawia:",
            type: "single",
            answers: [
                { text: "Klucz publiczny RSA", correct: false },
                { text: "Has≈Ço (klucz pre-shared) dla peera 10.0.0.1", correct: true },
                { text: "Adres IP w≈Çasnego interfejsu", correct: false },
                { text: "Politykƒô routingu", correct: false }
            ]
        },
        {
            question: "W topologii Hub & Spoke:",
            type: "single",
            answers: [
                { text: "Ka≈ºdy ≈ÇƒÖczy siƒô z ka≈ºdym (Full Mesh)", correct: false },
                { text: "Istnieje centralne urzƒÖdzenie po≈õredniczƒÖce w tunelach", correct: true },
                { text: "Nie u≈ºywa siƒô tuneli IPSec", correct: false },
                { text: "Tunele sƒÖ zestawiane losowo", correct: false }
            ]
        },
        {
            question: "Co konfigurujemy poleceniem 'lifetime' w polityce ISAKMP?",
            type: "single",
            answers: [
                { text: "Czas ≈ºycia pakietu (TTL)", correct: false },
                { text: "Czas wa≈ºno≈õci relacji zabezpiecze≈Ñ (kluczy) w fazie I", correct: true },
                { text: "Op√≥≈∫nienie transmisji", correct: false },
                { text: "Liczbƒô dozwolonych u≈ºytkownik√≥w", correct: false }
            ]
        },
        {
            question: "Tryb transportowy jest najczƒô≈õciej stosowany w po≈ÇƒÖczeniach typu:",
            type: "single",
            answers: [
                { text: "Site-to-Site (Router-Router)", correct: false },
                { text: "Host-to-Host (End-to-End)", correct: true },
                { text: "Tylko w IPv6", correct: false },
                { text: "Tylko w sieciach publicznych", correct: false }
            ]
        },
        {
            question: "Kt√≥ry tryb jest typowy dla VPN Site-to-Site (Brama-Brama)?",
            type: "single",
            answers: [
                { text: "Tryb transportowy", correct: false },
                { text: "Tryb tunelowy", correct: true },
                { text: "Tryb hybrydowy", correct: false },
                { text: "Tryb AH", correct: false }
            ]
        },
        {
            question: "Algorytm MD5 s≈Çu≈ºy do:",
            type: "single",
            answers: [
                { text: "Szyfrowania danych", correct: false },
                { text: "Wymiany kluczy", correct: false },
                { text: "Weryfikacji integralno≈õci (Hash)", correct: true },
                { text: "Kompresji danych", correct: false }
            ]
        },
        {
            question: "Aby zastosowaƒá VPN na interfejsie routera, u≈ºywamy polecenia:",
            type: "single",
            answers: [
                { text: "ip address ...", correct: false },
                { text: "encapsulation dot1q ...", correct: false },
                { text: "crypto map <nazwa_mapy>", correct: true },
                { text: "crypto enable", correct: false }
            ]
        },
        {
            question: "Element 'set peer 10.0.0.1' w crypto-mapie definiuje:",
            type: "single",
            answers: [
                { text: "Adres IP hosta lokalnego", correct: false },
                { text: "Adres IP bramy zdalnej (ko≈Ñca tunelu)", correct: true },
                { text: "Adres serwera DNS", correct: false },
                { text: "Adres sieci chronionej", correct: false }
            ]
        },
        {
            question: "Co oznacza skr√≥t VPN?",
            type: "single",
            answers: [
                { text: "Very Private Network", correct: false },
                { text: "Virtual Private Network", correct: true },
                { text: "Virtual Public Network", correct: false },
                { text: "Verified Packet Network", correct: false }
            ]
        },
        {
            question: "Kt√≥ry protok√≥≈Ç funkcjonuje w warstwie sieciowej modelu ISO/OSI?",
            type: "single",
            answers: [
                { text: "SSL", correct: false },
                { text: "IPSec", correct: true },
                { text: "SSH", correct: false },
                { text: "L2TP", correct: false }
            ]
        },
        {
            question: "Co zapewnia algorytm Diffiego-Hellmana?",
            type: "single",
            answers: [
                { text: "Szyfrowanie ca≈Çej transmisji", correct: false },
                { text: "Bezpieczne uzgodnienie wsp√≥lnego klucza sekretnego w niezabezpieczonym kanale", correct: true },
                { text: "Kompresjƒô nag≈Ç√≥wk√≥w", correct: false },
                { text: "Routing pakiet√≥w", correct: false }
            ]
        },
        {
            question: "Parametr 'authentication pre-share' w polityce ISAKMP oznacza:",
            type: "single",
            answers: [
                { text: "Uwierzytelnianie certyfikatami cyfrowymi", correct: false },
                { text: "Uwierzytelnianie wsp√≥≈Çdzielonym has≈Çem", correct: true },
                { text: "Brak uwierzytelniania", correct: false },
                { text: "Uwierzytelnianie biometryczne", correct: false }
            ]
        },
        {
            question: "W kt√≥rym miejscu pakietu znajduje siƒô nag≈Ç√≥wek ESP w trybie transportowym?",
            type: "single",
            answers: [
                { text: "Na samym poczƒÖtku (przed IP)", correct: false },
                { text: "Pomiƒôdzy oryginalnym nag≈Ç√≥wkiem IP a danymi (np. TCP)", correct: true },
                { text: "Na samym ko≈Ñcu pakietu", correct: false },
                { text: "Zastƒôpuje nag≈Ç√≥wek IP", correct: false }
            ]
        },
        {
            question: "Do czego s≈Çu≈ºy polecenie 'match address' w crypto-mapie?",
            type: "single",
            answers: [
                { text: "Do sprawdzenia adresu MAC", correct: false },
                { text: "Do powiƒÖzania listy ACL definiujƒÖcej ruch do szyfrowania", correct: true },
                { text: "Do ustawienia adresu IP routera", correct: false },
                { text: "Do dopasowania klucza", correct: false }
            ]
        },
        {
            question: "Weryfikacja ≈∫r√≥d≈Ça pochodzenia pakietu w IPSec ma na celu:",
            type: "single",
            answers: [
                { text: "Zwiƒôkszenie prƒôdko≈õci transmisji", correct: false },
                { text: "Eliminacjƒô mo≈ºliwo≈õci podszywania siƒô pod inny adres (IP Spoofing)", correct: true },
                { text: "Kompresjƒô danych", correct: false },
                { text: "Zmianƒô trasy routingu", correct: false }
            ]
        },
        {
            question: "Czy protok√≥≈Ç IPSec mo≈ºe byƒá wykorzystywany przez IPv6?",
            type: "single",
            answers: [
                { text: "Tak", correct: true },
                { text: "Nie, tylko IPv4", correct: false },
                { text: "Tylko w trybie transportowym", correct: false }
            ]
        },
        {
            question: "Co oznacza skr√≥t SPI w nag≈Ç√≥wku IPSec?",
            type: "single",
            answers: [
                { text: "Secure Private Interface", correct: false },
                { text: "Security Parameters Index", correct: true },
                { text: "Serial Port Interface", correct: false },
                { text: "Standard Protocol ID", correct: false }
            ]
        },
        {
            question: "Kt√≥re stwierdzenie o relacji zabezpiecze≈Ñ (SA) jest prawdziwe?",
            type: "single",
            answers: [
                { text: "Jest zawsze dwukierunkowa", correct: false },
                { text: "Jest jednoznacznie definiowana m.in. przez SPI i adres docelowy", correct: true },
                { text: "Nie wymaga negocjacji", correct: false },
                { text: "Dzia≈Ça tylko w warstwie aplikacji", correct: false }
            ]
        },
        {
            question: "Co konfiguruje polecenie 'encr 3des' w polityce ISAKMP?",
            type: "single",
            answers: [
                { text: "Algorytm haszowania", correct: false },
                { text: "Algorytm szyfrowania kana≈Çu wymiany kluczy (Faza I)", correct: true },
                { text: "Czas ≈ºycia tunelu", correct: false },
                { text: "Metodƒô uwierzytelniania", correct: false }
            ]
        },
        {
            question: "Czy protok√≥≈Ç AH szyfruje dane u≈ºytkownika?",
            type: "single",
            answers: [
                { text: "Tak, zawsze", correct: false },
                { text: "Tak, ale s≈Çabo", correct: false },
                { text: "Nie, zapewnia tylko integralno≈õƒá i autentyczno≈õƒá", correct: true },
                { text: "Zale≈ºy od konfiguracji", correct: false }
            ]
        },
        {
            question: "Jaki jest cel stosowania certyfikat√≥w cyfrowych (X.509) w VPN?",
            type: "single",
            answers: [
                { text: "Szyfrowanie danych w Fazie II", correct: false },
                { text: "Uwierzytelnianie stron (alternatywa dla pre-shared keys)", correct: true },
                { text: "Kompresja danych", correct: false },
                { text: "Routing", correct: false }
            ]
        },
        {
            question: "W konfiguracji 'crypto map', co oznacza 'ipsec-isakmp'?",
            type: "single",
            answers: [
                { text: "≈ªe klucze bƒôdƒÖ wpisywane rƒôcznie", correct: false },
                { text: "≈ªe u≈ºywany jest protok√≥≈Ç automatycznej wymiany kluczy (IKE)", correct: true },
                { text: "≈ªe tunel jest nieaktywny", correct: false },
                { text: "≈ªe u≈ºywamy tylko AH", correct: false }
            ]
        },
        {
            question: "Jakie jest zagro≈ºenie, przed kt√≥rym chroni 'Anti-replay'?",
            type: "single",
            answers: [
                { text: "Przechwycenie pakietu i jego ponowne wys≈Çanie przez atakujƒÖcego", correct: true },
                { text: "Odszyfrowanie tre≈õci", correct: false },
                { text: "Zmiana adresu IP nadawcy", correct: false },
                { text: "Usuniƒôcie pakietu", correct: false }
            ]
        },
        {
            question: "Co siƒô stanie po wpisaniu 'clear crypto sa'?",
            type: "single",
            answers: [
                { text: "Usunie siƒô konfiguracja VPN", correct: false },
                { text: "ZostanƒÖ skasowane aktywne tunele (relacje zabezpiecze≈Ñ)", correct: true },
                { text: "Zrestartuje siƒô router", correct: false },
                { text: "Wyczy≈õci siƒô lista ACL", correct: false }
            ]
        },
        {
            question: "W kt√≥rym trybie nag≈Ç√≥wek IPSec (AH/ESP) jest umieszczany PO oryginalnym nag≈Ç√≥wku IP?",
            type: "single",
            answers: [
                { text: "Tryb tunelowy", correct: false },
                { text: "Tryb transportowy", correct: true },
                { text: "W obu", correct: false },
                { text: "W ≈ºadnym", correct: false }
            ]
        },
        {
            question: "Jaka jest domy≈õlna rola ISAKMP w IPSec?",
            type: "single",
            answers: [
                { text: "Szyfrowanie pakiet√≥w danych", correct: false },
                { text: "ZarzƒÖdzanie kluczami i negocjacja parametr√≥w bezpiecze≈Ñstwa", correct: true },
                { text: "Kompresja danych", correct: false },
                { text: "Ruting pakiet√≥w", correct: false }
            ]
        },

        // ==========================================
        // NOWE 30 PYTA≈É (WIELOKROTNEGO WYBORU - TWARDE)
        // ==========================================
        {
            question: "Jakie parametry definiujemy wewnƒÖtrz 'crypto isakmp policy' (Faza I)? (Zaznacz wszystkie poprawne)",
            type: "multi",
            answers: [
                { text: "encryption (np. aes, 3des)", correct: true },
                { text: "hash (np. sha, md5)", correct: true },
                { text: "mode tunnel", correct: false }, // To faza 2
                { text: "group (Diffie-Hellman)", correct: true },
                { text: "authentication (np. pre-share)", correct: true },
                { text: "set peer", correct: false } // To crypto map
            ]
        },
        {
            question: "Wska≈º cechy charakterystyczne trybu TUNELOWEGO w IPSec: (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Oryginalny nag≈Ç√≥wek IP jest szyfrowany (w przypadku ESP)", correct: true },
                { text: "Dodawany jest zupe≈Çnie nowy nag≈Ç√≥wek IP", correct: true },
                { text: "Oryginalny nag≈Ç√≥wek IP pozostaje jawny", correct: false },
                { text: "Stosowany g≈Ç√≥wnie w relacji Brama-Brama (Site-to-Site)", correct: true },
                { text: "Stosowany g≈Ç√≥wnie w relacji Host-Host", correct: false }
            ]
        },
        {
            question: "Co znajduje siƒô w konfiguracji 'transform-set' (Faza II)? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Algorytm szyfrowania danych (np. esp-aes)", correct: true },
                { text: "Algorytm haszowania danych (np. esp-sha-hmac)", correct: true },
                { text: "Klucz pre-shared key", correct: false }, // Faza 1
                { text: "Tryb tunelowania (mode tunnel/transport)", correct: true },
                { text: "Czas ≈ºycia IKE (lifetime)", correct: false } // Faza 1
            ]
        },
        {
            question: "Jakie funkcje pe≈Çni protok√≥≈Ç ESP? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Poufno≈õƒá (Szyfrowanie)", correct: true },
                { text: "Integralno≈õƒá danych", correct: true },
                { text: "Uwierzytelnianie ≈∫r√≥d≈Ça", correct: true },
                { text: "Tylko i wy≈ÇƒÖcznie integralno≈õƒá (bez szyfrowania)", correct: false }, // To AH
                { text: "Routing dynamiczny", correct: false }
            ]
        },
        {
            question: "Co zobaczysz w wynikach polecenia 'show crypto ipsec sa'? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Liczbƒô zaszyfrowanych pakiet√≥w (pkts encaps)", correct: true },
                { text: "Liczbƒô odszyfrowanych pakiet√≥w (pkts decaps)", correct: true },
                { text: "Aktualne SPI (Security Parameter Index)", correct: true },
                { text: "Has≈Ço w formie jawnej", correct: false },
                { text: "Status interfejs√≥w fizycznych", correct: false }
            ]
        },
        {
            question: "Kt√≥re algorytmy s≈Çu≈ºƒÖ do zapewnienia POUFNO≈öCI (Szyfrowania)? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "AES", correct: true },
                { text: "3DES", correct: true },
                { text: "DES", correct: true },
                { text: "SHA-1", correct: false }, // Hash
                { text: "MD5", correct: false }, // Hash
                { text: "Diffie-Hellman", correct: false } // Wymiana kluczy
            ]
        },
        {
            question: "Kt√≥re algorytmy s≈Çu≈ºƒÖ do zapewnienia INTEGRALNO≈öCI (Funkcje skr√≥tu)? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "MD5", correct: true },
                { text: "SHA-1", correct: true },
                { text: "SHA-256", correct: true },
                { text: "AES", correct: false },
                { text: "RSA", correct: false }
            ]
        },
        {
            question: "Jakie parametry muszƒÖ byƒá TAKIE SAME na obu routerach w Fazie I, aby tunel wsta≈Ç? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Algorytm szyfrowania (Encryption)", correct: true },
                { text: "Algorytm haszowania (Hash)", correct: true },
                { text: "Metoda uwierzytelniania (Authentication)", correct: true },
                { text: "Grupa Diffie-Hellman", correct: true },
                { text: "Nazwa Crypto Mapy", correct: false }, // Nazwa lokalna
                { text: "Nazwa listy ACL", correct: false } // Nazwa lokalna
            ]
        },
        {
            question: "Wybierz poprawne komendy sk≈Çadowe konfiguracji Crypto Mapy: (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "match address [nr_acl]", correct: true },
                { text: "set peer [adres_ip]", correct: true },
                { text: "set transform-set [nazwa]", correct: true },
                { text: "encryption aes", correct: false }, // To w policy
                { text: "hash sha", correct: false } // To w policy
            ]
        },
        {
            question: "Jakie sƒÖ mo≈ºliwe metody uwierzytelniania w 'crypto isakmp policy'? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "pre-share", correct: true },
                { text: "rsa-sig", correct: true },
                { text: "rsa-encr", correct: true },
                { text: "md5-auth", correct: false },
                { text: "aes-auth", correct: false }
            ]
        },
        {
            question: "Jakie cechy posiada Tryb Transportowy? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Nag≈Ç√≥wek IPSec jest wstawiany miƒôdzy IP a dane (TCP/UDP)", correct: true },
                { text: "Oryginalny nag≈Ç√≥wek IP jest widoczny", correct: true },
                { text: "Stosowany g≈Ç√≥wnie do po≈ÇƒÖcze≈Ñ Host-Host", correct: true },
                { text: "Ukrywa adresy IP nadawcy i odbiorcy", correct: false },
                { text: "Dodaje nowy nag≈Ç√≥wek IP", correct: false }
            ]
        },
        {
            question: "Dlaczego stosujemy ACL w konfiguracji IPSec? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Aby wskazaƒá 'interesujƒÖcy ruch' do szyfrowania", correct: true },
                { text: "Aby zablokowaƒá ruch niepo≈ºƒÖdany w tunelu", correct: true },
                { text: "Aby skonfigurowaƒá adres IP interfejsu", correct: false },
                { text: "Aby w≈ÇƒÖczyƒá routing OSPF", correct: false }
            ]
        },
        {
            question: "Jakie informacje zawiera Security Association (SA)? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "SPI (Security Parameter Index)", correct: true },
                { text: "Adres IP docelowy", correct: true },
                { text: "Protok√≥≈Ç zabezpiecze≈Ñ (AH lub ESP)", correct: true },
                { text: "Listƒô plik√≥w na serwerze", correct: false },
                { text: "Wersjƒô systemu operacyjnego routera", correct: false }
            ]
        },
        {
            question: "Jakie sƒÖ numery grup Diffie-Hellman? (Zaznacz przyk≈Çadowe poprawne)",
            type: "multi",
            answers: [
                { text: "Group 1", correct: true },
                { text: "Group 2", correct: true },
                { text: "Group 5", correct: true },
                { text: "Group 100", correct: false },
                { text: "Group AES", correct: false }
            ]
        },
        {
            question: "Jakie kroki sƒÖ niezbƒôdne do uruchomienia VPN Site-to-Site? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Konfiguracja ISAKMP Policy (Faza 1)", correct: true },
                { text: "Konfiguracja klucza (Key)", correct: true },
                { text: "Konfiguracja Transform-Set (Faza 2)", correct: true },
                { text: "Utworzenie ACL dla ruchu VPN", correct: true },
                { text: "Przypisanie Crypto Map do interfejsu", correct: true }
            ]
        },
        {
            question: "Jakie polecenia 'debug' sƒÖ przydatne przy problemach z IPSec? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "debug crypto isakmp", correct: true },
                { text: "debug crypto ipsec", correct: true },
                { text: "debug ip packet", correct: false }, // Zbyt og√≥lne/niebezpieczne
                { text: "debug vlan", correct: false }
            ]
        },
        {
            question: "Co siƒô stanie, je≈õli Faza I (ISAKMP) zako≈Ñczy siƒô niepowodzeniem? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Faza II (IPSec) w og√≥le siƒô nie rozpocznie", correct: true },
                { text: "Klucze szyfrujƒÖce nie zostanƒÖ wymienione", correct: true },
                { text: "Tunel bƒôdzie dzia≈Ça≈Ç, ale bez szyfrowania", correct: false },
                { text: "Ruch bƒôdzie przesy≈Çany otwartym tekstem", correct: false } // Zazwyczaj zostanie odrzucony
            ]
        },
        {
            question: "Jakie role pe≈ÇniƒÖ algorytmy w IPSec? (Zaznacz poprawne pary)",
            type: "multi",
            answers: [
                { text: "Algorytmy symetryczne (AES) -> Szyfrowanie danych", correct: true },
                { text: "Algorytmy asymetryczne (DH) -> Wymiana kluczy", correct: true },
                { text: "Algorytmy skr√≥tu (SHA) -> Integralno≈õƒá", correct: true },
                { text: "Algorytmy symetryczne -> Wymiana kluczy", correct: false }
            ]
        },
        {
            question: "Wska≈º poprawne maski 'wildcard' w ACL dla sieci 192.168.1.0/24: (Zaznacz poprawne)",
            type: "multi",
            answers: [
                { text: "0.0.0.255", correct: true },
                { text: "255.255.255.0", correct: false }, // To maska podsieci
                { text: "0.0.0.0 (dla konkretnego hosta)", correct: false }, // Pytanie o sieƒá /24
                { text: "0.0.255.255", correct: false }
            ]
        },
        {
            question: "Do czego s≈Çu≈ºy polecenie 'set peer' w konfiguracji mapy? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Wskazuje adres IP drugiego ko≈Ñca tunelu", correct: true },
                { text: "Definiuje bramƒô VPN partnera", correct: true },
                { text: "Ustawia m√≥j adres lokalny", correct: false },
                { text: "Ustawia has≈Ço", correct: false }
            ]
        },
        {
            question: "Jaki jest cel mechanizmu Anti-Replay? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Zapobieganie wstrzykniƒôciu przechwyconego starego pakietu", correct: true },
                { text: "Wykorzystanie numer√≥w sekwencyjnych (Sequence Numbers)", correct: true },
                { text: "Szyfrowanie nag≈Ç√≥wka TCP", correct: false },
                { text: "Kompresja danych", correct: false }
            ]
        },
        {
            question: "Co robi polecenie 'clear crypto sa'? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Usuwa aktywne tunele (Security Associations)", correct: true },
                { text: "Wymusza ponownƒÖ negocjacjƒô kluczy przy nowym ruchu", correct: true },
                { text: "Usuwa konfiguracjƒô z running-config", correct: false },
                { text: "Restartuje urzƒÖdzenie", correct: false }
            ]
        },
        {
            question: "Czym charakteryzuje siƒô algorytm Diffie-Hellman? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Jest algorytmem asymetrycznym", correct: true },
                { text: "Pozwala na bezpieczne ustalenie wsp√≥lnego sekretu w niezaufanym kanale", correct: true },
                { text: "S≈Çu≈ºy do szyfrowania du≈ºych ilo≈õci danych u≈ºytkownika", correct: false }, // Za wolny, u≈ºywa siƒô symetrycznych
                { text: "Jest funkcjƒÖ skr√≥tu", correct: false }
            ]
        },
        {
            question: "Jakie protoko≈Çy warstwy transportowej/internetowej wykorzystuje IPSec? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "ESP (protok√≥≈Ç 50)", correct: true },
                { text: "AH (protok√≥≈Ç 51)", correct: true },
                { text: "UDP (port 500 dla ISAKMP)", correct: true },
                { text: "TCP (port 80)", correct: false },
                { text: "ICMP", correct: false }
            ]
        },
        {
            question: "Co siƒô dzieje w przypadku u≈ºycia NAT po drodze tunelu IPSec? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "AH nie zadzia≈Ça (naruszenie integralno≈õci nag≈Ç√≥wka IP)", correct: true },
                { text: "Wymagane jest NAT-Traversal (NAT-T)", correct: true },
                { text: "ISAKMP prze≈ÇƒÖcza siƒô na port UDP 4500", correct: true },
                { text: "Wszystko dzia≈Ça bez dodatkowej konfiguracji", correct: false }
            ]
        },
        {
            question: "Wska≈º cechy kluczy w kryptografii symetrycznej: (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Ten sam klucz s≈Çu≈ºy do szyfrowania i deszyfrowania", correct: true },
                { text: "Jest szybsza ni≈º asymetryczna", correct: true },
                { text: "Stosowana w Fazie II (ESP) do danych", correct: true },
                { text: "U≈ºywa pary kluczy prywatny/publiczny", correct: false }
            ]
        },
        {
            question: "Co oznacza skr√≥t CA w kontek≈õcie VPN i PKI? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Certificate Authority (UrzƒÖd Certyfikacji)", correct: true },
                { text: "Podmiot wydajƒÖcy certyfikaty cyfrowe", correct: true },
                { text: "Crypto Algorithm", correct: false },
                { text: "Connection Acceptor", correct: false }
            ]
        },
        {
            question: "Co definiuje parametr 'lifetime' w konfiguracji IPSec? (Zaznacz wszystkie)",
            type: "multi",
            answers: [
                { text: "Czas, po kt√≥rym klucze muszƒÖ zostaƒá wymienione (re-key)", correct: true },
                { text: "Mo≈ºe byƒá wyra≈ºony w sekundach lub kilobajtach danych", correct: true },
                { text: "Czas do wy≈ÇƒÖczenia routera", correct: false },
                { text: "Op√≥≈∫nienie pakietu", correct: false }
            ]
        },
        {
            question: "W jaki spos√≥b mo≈ºna sprawdziƒá konfiguracjƒô Fazy I? (Zaznacz poprawne)",
            type: "multi",
            answers: [
                { text: "show crypto isakmp policy", correct: true },
                { text: "show crypto isakmp sa", correct: true }, // Pokazuje stan (QM_IDLE itp)
                { text: "show crypto ipsec sa", correct: false }, // To faza 2
                { text: "show ip interface brief", correct: false }
            ]
        }
    ];

    // Funkcja mieszajƒÖca (Fisher-Yates)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderQuestions() {
        const container = document.getElementById('questions-container');
        container.innerHTML = '';
        
        // Mieszamy kolejno≈õƒá pyta≈Ñ
        shuffleArray(questionsDB);

        questionsDB.forEach((q, index) => {
            // Mieszamy odpowiedzi
            shuffleArray(q.answers);

            const qBlock = document.createElement('div');
            qBlock.className = 'question-block';

            // Dodaj klasƒô wyr√≥≈ºniajƒÖcƒÖ je≈õli to pytanie ze zdjƒôcia
            if(q.isSource) {
                qBlock.classList.add('source-question-block');
            }

            const qTitle = document.createElement('div');
            qTitle.className = 'question-text';
            if(q.isSource) {
                qTitle.classList.add('source-question');
            }
            // Numeracja 1..80
            qTitle.innerHTML = (index + 1) + ". " + q.question;
            
            // Oznaczenie ≈∫r√≥d≈Ça (dla pewno≈õci)
            if(q.isSource) {
                const tag = document.createElement('span');
                tag.className = 'source-tag';
                tag.innerText = "ZE ZDJƒòCIA";
                qTitle.appendChild(tag);
            }
            
            const qType = document.createElement('span');
            qType.className = 'type-badge';
            qType.innerText = q.type === 'multi' ? "(Wielokrotny wyb√≥r)" : "(Jednokrotny wyb√≥r)";

            const optionsList = document.createElement('ul');
            optionsList.className = 'options';

            q.answers.forEach((ans, ansIndex) => {
                const li = document.createElement('li');
                li.className = 'option';
                
                const inputType = q.type === 'multi' ? 'checkbox' : 'radio';
                const inputName = 'q' + index;
                const inputId = 'q' + index + 'a' + ansIndex;

                const input = document.createElement('input');
                input.type = inputType;
                input.name = inputName;
                input.id = inputId;
                input.value = ans.correct; 

                const label = document.createElement('label');
                label.htmlFor = inputId;
                label.innerText = ans.text;
                label.style.cursor = 'pointer';
                label.style.width = "100%";

                // Logika klikniƒôcia - natychmiastowa weryfikacja
                li.onclick = function(e) {
                    if (e.target !== input) {
                        input.checked = !input.checked;
                        if(inputType === 'radio') {
                             const siblings = optionsList.querySelectorAll('.option');
                             siblings.forEach(sib => {
                                 sib.classList.remove('correct-clicked', 'wrong-clicked');
                                 const sibInput = sib.querySelector('input');
                                 if(sibInput !== input) sibInput.checked = false;
                             });
                        }
                    }
                    
                    if (ans.correct) {
                        li.classList.add('correct-clicked');
                        li.classList.remove('wrong-clicked');
                    } else {
                        li.classList.add('wrong-clicked');
                        li.classList.remove('correct-clicked');
                    }
                };
                
                input.onclick = function(e) {
                    e.stopPropagation();
                     if(inputType === 'radio') {
                         const siblings = optionsList.querySelectorAll('.option');
                         siblings.forEach(sib => sib.classList.remove('correct-clicked', 'wrong-clicked'));
                    }
                    if (ans.correct) {
                        li.classList.add('correct-clicked');
                        li.classList.remove('wrong-clicked');
                    } else {
                        li.classList.add('wrong-clicked');
                        li.classList.remove('correct-clicked');
                    }
                }

                li.appendChild(input);
                li.appendChild(label);
                optionsList.appendChild(li);
            });

            qBlock.appendChild(qTitle);
            qBlock.appendChild(qType);
            qBlock.appendChild(optionsList);
            container.appendChild(qBlock);
        });
    }

    function checkScore() {
        const blocks = document.querySelectorAll('.question-block');
        let score = 0;
        let total = blocks.length;

        blocks.forEach((block, index) => {
            const type = questionsDB[index].type;
            const inputs = block.querySelectorAll('input');
            let isCorrect = true;

            if (type === 'single') {
                let selected = false;
                inputs.forEach(inp => {
                    if (inp.checked) {
                        selected = true;
                        if (inp.value !== 'true') isCorrect = false;
                    }
                });
                if (!selected) isCorrect = false;
            } else {
                // Multi - rygorystyczne sprawdzanie
                let hasSelection = false;
                inputs.forEach(inp => {
                    if (inp.checked) hasSelection = true;
                    if (inp.value === 'true' && !inp.checked) isCorrect = false;
                    if (inp.value === 'false' && inp.checked) isCorrect = false;
                });
                if (!hasSelection) isCorrect = false;
            }

            if (isCorrect) score++;
        });

        const resultBox = document.getElementById('result-box');
        const percent = Math.round((score / total) * 100);
        
        let msg = `Tw√≥j wynik: ${score} / ${total} (${percent}%)`;
        if (percent === 100) msg += " <br>üëë Jeste≈õ gotowy na 5.0! üëë";
        else if (percent >= 80) msg += " <br>üî• Bardzo dobrze! Zdasz bez problemu. üî•";
        else if (percent >= 50) msg += " <br>üëç Nie≈∫le, ale przejrzyj jeszcze raz pytania ze zdjƒôƒá.";
        else msg += " <br>üìö Wracaj do nauki! Przeczytaj notatkƒô na g√≥rze.";

        resultBox.innerHTML = msg;
        resultBox.style.display = 'block';
        
        // Przewi≈Ñ do wyniku
        resultBox.scrollIntoView({behavior: "smooth"});
    }

    // Start
    renderQuestions();

</script>

</body>
</html>
