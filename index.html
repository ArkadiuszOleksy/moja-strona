<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egzamin Administratora Linux - Test Wiedzy</title>
    <style>
        :root { --primary: #e95420; --bg: #f5f6fa; --card: #ffffff; --text: #2d3436; --correct: #00b894; --wrong: #d63031; --primary-dark: #c0392b; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 900px; margin: 0 auto; padding-bottom: 60px; }
        
        h1 { 
            text-align: center; 
            color: #2c3e50; 
            margin-bottom: 40px; 
            font-size: 2.2em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Karta pytania */
        .q-card { 
            background: var(--card); 
            padding: 30px; 
            margin-bottom: 30px; 
            border-radius: 12px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); 
            border-left: 6px solid var(--primary); 
            transition: transform 0.2s;
        }
        .q-card:hover { transform: translateY(-2px); }

        .q-header { 
            font-weight: 700; 
            font-size: 1.2em; 
            margin-bottom: 25px; 
            color: #2c3e50; 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .badge { 
            background: #dfe6e9; 
            font-size: 0.75em; 
            padding: 4px 10px; 
            border-radius: 20px; 
            color: #636e72; 
            font-weight: 600; 
            white-space: nowrap;
            margin-left: 15px;
        }

        /* Lista opcji */
        .options-list { display: flex; flex-direction: column; gap: 10px; }
        
        .opt-label { 
            display: flex; 
            align-items: center; 
            padding: 15px; 
            border: 2px solid #e1e1e1; 
            border-radius: 8px; 
            cursor: pointer; 
            transition: all 0.2s ease; 
            background: #fff; 
            font-size: 1em;
        }
        
        .opt-label:hover { background: #fdfdfd; border-color: #b2bec3; }
        
        /* Stylizacja checkboxa */
        .opt-label input { 
            margin-right: 15px; 
            width: 20px; 
            height: 20px; 
            cursor: pointer;
            accent-color: var(--primary);
        }

        /* Style walidacji */
        .opt-label.correct { border-color: var(--correct); background: #e3fcf7; color: #006b54; font-weight: 600; }
        .opt-label.wrong { border-color: var(--wrong); background: #fff0f0; color: #c0392b; }
        
        /* Styl dla poprawnej odpowiedzi, której użytkownik NIE zaznaczył */
        .opt-label.missed { border: 2px dashed var(--correct); background: #f0fffa; opacity: 0.8; }

        /* Przycisk */
        .btn-check { 
            background: var(--primary); 
            color: #fff; 
            border: none; 
            padding: 12px 30px; 
            font-size: 1em; 
            font-weight: 600;
            border-radius: 6px; 
            cursor: pointer; 
            margin-top: 25px; 
            transition: background 0.3s; 
            display: inline-block;
        }
        .btn-check:hover { background: var(--primary-dark); }

        .score-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2d3436;
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-weight: bold;
            z-index: 100;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Egzamin Administratora Linux</h1>
    <div id="quiz-area"></div>
</div>
<div id="streszczenie-wykladow">
    
    <h2>Wykład 1: Wprowadzenie do Administracji Systemami Operacyjnymi Linux/Unix</h2>
    <p>Wykład ten stanowi fundament wiedzy dla administratora, definiując podstawowe pojęcia bezpieczeństwa, przegląd systemów oraz rolę administratora.</p>
    
    <h3>1. Podstawy bezpieczeństwa (Triada CIA)</h3>
    <p>Fundamentem bezpieczeństwa są trzy elementy:</p>
    <ul>
        <li><strong>Poufność (Confidentiality):</strong> Ochrona danych przed dostępem osób niepowołanych.</li>
        <li><strong>Integralność (Integrity):</strong> Gwarancja, że dane nie zostały zmienione w sposób nieautoryzowany.</li>
        <li><strong>Dostępność (Availability):</strong> Zapewnienie dostępu do systemów dla uprawnionych użytkowników.</li>
    </ul>

    <h3>2. Wektory ataku i środki zapobiegawcze</h3>
    <ul>
        <li><strong>Socjotechnika:</strong> Użytkownicy są najsłabszym ogniwem; wymagane są regularne szkolenia.</li>
        <li><strong>Podatności oprogramowania:</strong> Błędy w kodzie umożliwiające przejęcie kontroli. Należy ograniczać uprawnienia aplikacji i stosować systemy kontroli dostępu jak SELinux czy AppArmor.</li>
        <li><strong>DDoS:</strong> Ataki na dostępność, wymagające mitygacji na poziomie infrastruktury sieciowej i WAF.</li>
        <li><strong>Zagrożenia wewnętrzne:</strong> Trudne do wykrycia działania osób z legalnym dostępem.</li>
    </ul>
    <p>Środki bezpieczeństwa:</p>
    <ul>
        <li><strong>Minimalizacja powierzchni ataku:</strong> Wyłączanie zbędnych usług (narzędzia: ss -tulpn, lsof -nP -i:22).</li>
        <li><strong>Zdalne logowanie:</strong> Centralizacja logów (Syslog, ELK) w celu korelacji incydentów.</li>
        <li><strong>Ochrona warstwowa:</strong> Od firewalli sieciowych po WAF aplikacyjne.</li>
    </ul>

    <h3>3. Przegląd dystrybucji Linuxa</h3>
    <p>Wszystkie dystrybucje dzielą to samo jądro, ale różnią się pakietami i przeznaczeniem:</p>
    <ul>
        <li><strong>Debian:</strong> Stabilny, baza dla Ubuntu/Kali, mocny nacisk na wolne oprogramowanie.</li>
        <li><strong>RHEL:</strong> Komercyjny standard korporacyjny, stabilny z długim wsparciem.</li>
        <li><strong>Arch Linux:</strong> Minimalistyczny, pełna kontrola użytkownika, model rolling-release.</li>
        <li><strong>Alpine Linux:</strong> Lekki, idealny pod kontenery Docker.</li>
        <li><strong>Kali Linux:</strong> Specjalistyczna dystrybucja do pentestów.</li>
        <li><strong>Immutable OS:</strong> Nowe podejście (np. Fedora CoreOS, Talos), gdzie system jest niemutowalny, zoptymalizowany pod Kubernetes.</li>
    </ul>

    <h3>4. Obowiązki i środowiska pracy administratora</h3>
    <ul>
        [cite_start]<li><strong>Zadania:</strong> Zarządzanie użytkownikami, kopiami zapasowymi, monitoring, automatyzacja (skrypty), konfiguracja sprzętu i polityk bezpieczeństwa [cite: 37-47].</li>
    </ul>
    <p>Środowiska:</p>
    <ul>
        <li><strong>Data Center:</strong> Praca ze sprzętem fizycznym, zasilaniem, chłodzeniem.</li>
        <li><strong>Chmura (AWS/Azure):</strong> Skalowanie, IaC (Infrastructure as Code), zarządzanie kosztami.</li>
        <li><strong>Praca zdalna:</strong> Wymaga biegłości w SSH, VPN i zarządzaniu rozproszonymi zasobami.</li>
    </ul>

    <h3>5. Narzędzia administratora</h3>
    <ul>
        <li><strong>Edytory:</strong> vim (standard wszechstronny), nano.</li>
        <li><strong>Automatyzacja:</strong> Ansible, Puppet, Chef do zarządzania konfiguracją na dużą skalę.</li>
        [cite_start]<li><strong>Dokumentacja:</strong> Markdown (prosty), LaTeX (zaawansowany), Man pages (podstawowe źródło wiedzy o poleceniach) [cite: 114-120].</li>
    </ul>

    <hr>

    <h2>Wykład 2: Proces rozruchu i łańcuch zaufania</h2>
    <p>Szczegółowa analiza techniczna startu systemu, ze szczególnym naciskiem na bezpieczeństwo (Secure Boot).</p>

    <h3>1. Etapy rozruchu</h3>
    <ol>
        <li><strong>Firmware (UEFI/BIOS):</strong> Inicjalizacja sprzętu (POST).</li>
        <li><strong>Bootloader:</strong> Ładuje kernel i initramfs (weryfikacja przy Secure Boot).</li>
        <li><strong>Kernel + Initramfs:</strong> Start jądra, montaż rootfs, uruchomienie PID 1 (systemd).</li>
        <li><strong>Userspace:</strong> Start usług systemowych.</li>
    </ol>

    <h3>2. Secure Boot i kryptografia</h3>
    <p>Hierarchia kluczy:</p>
    <ul>
        <li><strong>PK (Platform Key):</strong> Korzeń zaufania.</li>
        <li><strong>KEK (Key Exchange Key):</strong> Do aktualizacji baz kluczy.</li>
        <li><strong>db (Allowed):</strong> Baza zaufanych certyfikatów/hashy.</li>
        <li><strong>dbx (Forbidden):</strong> Baza unieważnionych certyfikatów (np. skompromitowanych).</li>
        <li><strong>MOK (Machine Owner Key):</strong> Klucz użytkownika/admina zarządzany przez shim, pozwalający na uruchamianie własnych jąder/modułów.</li>
        <li><strong>Kernel Lockdown:</strong> W trybie Secure Boot jądro blokuje dostęp do funkcji mogących naruszyć jego integralność; moduły muszą być podpisane.</li>
    </ul>

    <h3>3. MBR vs GPT</h3>
    <ul>
        <li><strong>MBR:</strong> Limit 2 TiB, 4 partycje podstawowe, kod rozruchowy w LBA 0.</li>
        [cite_start]<li><strong>GPT:</strong> Limit ~8 ZiB, brak limitu partycji, redundancja (kopia tablicy na końcu dysku), wymagane przez UEFI [cite: 154-156].</li>
    </ul>

    <h3>4. UKI (Unified Kernel Image)</h3>
    <p>Nowoczesne podejście, gdzie kernel, initramfs i cmdline są spakowane w jeden plik PE/COFF i podpisane jako całość. Zapobiega to manipulacji parametrami startowymi jądra.</p>

    <h3>5. Praktyka administracyjna</h3>
    <ul>
        <li><strong>Podpisywanie modułów (DKMS):</strong> Wymaga stworzenia hooka (skryptu), który automatycznie podpisuje nowe moduły kluczem MOK przy aktualizacji jądra.</li>
        <li><strong>Zabezpieczenie GRUB:</strong> Należy ustawić hasło (PBKDF2), aby zablokować edycję wpisów (np. dopisanie init=/bin/bash).</li>
        <li><strong>Initramfs:</strong> Można go analizować (lsinitramfs) i modyfikować (update-initramfs). [cite_start]Zawiera niezbędne moduły (np. do obsługi LUKS/LVM) [cite: 179-183].</li>
    </ul>

    <hr>

    <h2>Wykład 3: Zarządzanie usługami w systemie Linux (Systemd)</h2>
    <p>Wykład poświęcony architekturze i konfiguracji systemd – domyślnego menedżera systemu.</p>

    <h3>1. Podstawowe pojęcia i ścieżki</h3>
    <p>systemd jest procesem PID 1, zarządza usługami, logami (journald) i zasobami (cgroups).</p>
    <p>Lokalizacja plików:</p>
    <ul>
        <li><strong>/lib/systemd/system:</strong> Domyślne pliki z pakietów (nie edytować!).</li>
        <li><strong>/etc/systemd/system:</strong> Konfiguracja administratora (nadrzędna).</li>
        <li><strong>/run/systemd/system:</strong> Jednostki dynamiczne.</li>
    </ul>
    <p>Nadpisywanie: Używamy systemctl edit &lt;unit&gt;, co tworzy plik override.conf – bezpieczna metoda modyfikacji.</p>

    <h3>2. Typy jednostek (Units)</h3>
    <ul>
        <li><strong>Service:</strong> Usługa (proces).</li>
        <li><strong>Socket:</strong> Aktywacja usługi na żądanie (np. przy połączeniu na port).</li>
        <li><strong>Target:</strong> Grupowanie jednostek (odpowiednik runleveli), np. multi-user.target.</li>
        <li><strong>Timer:</strong> Harmonogram (zastępstwo crona).</li>
        <li><strong>Mount/Automount:</strong> Zarządzanie punktami montowania.</li>
    </ul>

    <h3>3. Szablony i instancje</h3>
    <p>Jednostki z @ w nazwie (np. sshd@.service) to szablony.</p>
    <ul>
        <li><strong>%i:</strong> Parametr instancji (uproszczony).</li>
        <li><strong>%I:</strong> Parametr instancji (pełny, np. ścieżka).</li>
    </ul>
    [cite_start]<p>Pozwala to na uruchamianie wielu wersji usługi z jednego pliku konfiguracyjnego [cite: 218-219].</p>

    <h3>4. Zależności i analiza rozruchu</h3>
    <ul>
        <li><strong>Requires:</strong> Silna zależność (błąd A zatrzymuje start B).</li>
        <li><strong>Wants:</strong> Słaba zależność (start B nastąpi nawet przy błędzie A).</li>
        [cite_start]<li><strong>After/Before:</strong> Tylko kolejność, nie wymusza startu [cite: 221-222].</li>
        [cite_start]<li><strong>Analiza:</strong> systemd-analyze blame (czas startu usług), critical-chain (wąskie gardło procesu startu) [cite: 223-224].</li>
    </ul>

    <h3>5. Bezpieczeństwo (Hardening)</h3>
    [cite_start]<p>Systemd pozwala izolować usługi bez dodatkowego oprogramowania [cite: 227-228]:</p>
    <ul>
        <li><strong>NoNewPrivileges:</strong> Blokada eskalacji uprawnień.</li>
        <li><strong>PrivateTmp:</strong> Własny /tmp dla usługi.</li>
        <li><strong>ProtectSystem/ProtectHome:</strong> Ograniczenie dostępu do plików systemowych/użytkownika.</li>
        <li><strong>DynamicUser:</strong> Uruchamianie usługi jako tymczasowy użytkownik bez dostępu do reszty systemu.</li>
    </ul>

    <hr>

    <h2>Wykład 4: Środowisko wykonawcze (Procesy, Wątki, Sygnały)</h2>
    <p>Techniczne spojrzenie na działanie programów w systemie oraz ich monitorowanie.</p>

    <h3>1. Definicje</h3>
    <ul>
        <li><strong>Proces:</strong> Egzemplarz programu z własną przestrzenią adresową i zasobami.</li>
        <li><strong>Wątek:</strong> Jednostka wykonawcza wewnątrz procesu, współdzieli pamięć i pliki (lżejsza od procesu).</li>
        <li><strong>Zasoby:</strong> CPU, pamięć, deskryptory plików.</li>
    </ul>

    <h3>2. Cykl życia i typy procesów</h3>
    <ul>
        <li><strong>Hierarchia:</strong> Drzewiasta struktura z systemd (PID 1) jako korzeniem.</li>
        <li><strong>Zombie:</strong> Proces zakończony, którego statusu nie odebrał rodzic (widoczny jako defunct). [cite_start]Nie można go zabić, trzeba naprawić rodzica [cite: 249-251].</li>
        <li><strong>Daemon:</strong> Proces działający w tle, bez terminala (TTY).</li>
    </ul>

    <h3>3. System plików /proc</h3>
    <p>Wirtualny system plików generowany przez jądro w locie.</p>
    <ul>
        <li><strong>/proc/PID/cmdline:</strong> Komenda uruchomieniowa.</li>
        <li><strong>/proc/PID/fd/:</strong> Otwarte pliki (deskryptory).</li>
        <li><strong>/proc/PID/environ:</strong> Zmienne środowiskowe (często wrażliwe dane!).</li>
    </ul>
    <p>Różnica: /proc dotyczy procesów, /sys dotyczy sprzętu i sterowników.</p>

    <h3>4. Narzędzia i sygnały</h3>
    <ul>
        <li><strong>Sygnały:</strong> SIGKILL (wymuszone zabicie, nieprzechwytywalne), SIGTERM (prośba o zakończenie), SIGSEGV (błąd pamięci).</li>
        [cite_start]<li><strong>Narzędzia:</strong> ps, top/htop (monitoring), strace (śledzenie syscalli – kluczowe przy debugowaniu), lsof (otwarte pliki/porty) [cite: 278-280].</li>
    </ul>

    <h3>5. eBPF (Extended Berkeley Packet Filter)</h3>
    <p>Nowoczesna technologia pozwalająca bezpiecznie uruchamiać kod w jądrze w celu monitorowania (bez modułów jądra). Narzędzia: bpftrace, bcc-tools. [cite_start]Używane do wykrywania anomalii i zaawansowanego debugowania wydajności [cite: 282-285].</p>

    <h3>6. Procedura reakcji na incydent</h3>
    [cite_start]<p>Identyfikacja (PID) -> Izolacja (odcięcie sieci) -> Zabezpieczenie dowodów (zrzut pamięci, brak modyfikacji plików) -> Analiza (statyczna/dynamiczna) -> Naprawa [cite: 317-322].</p>

    <hr>

    <h2>Wykład 5: Zarządzanie i ochrona danych (Storage)</h2>
    <p>Wykład omawia warstwy pamięci masowej, od sprzętu po systemy plików i backup.</p>

    <h3>1. Warstwy pamięci masowej</h3>
    <ul>
        <li><strong>Sprzęt:</strong> HDD, SSD/NVMe (wymagają TRIM), macierze RAID.</li>
        [cite_start]<li><strong>Partycjonowanie:</strong> Zalecane GPT (UUID/PARTUUID jako stabilne identyfikatory w /etc/fstab) [cite: 344-347].</li>
    </ul>

    <h3>2. LVM (Logical Volume Manager)</h3>
    <p>Warstwa abstrakcji pozwalająca na elastyczne zarządzanie dyskami.</p>
    <ul>
        <li><strong>PV (Physical Volume):</strong> Fizyczny dysk/partycja.</li>
        <li><strong>VG (Volume Group):</strong> Pula przestrzeni z wielu PV.</li>
        <li><strong>LV (Logical Volume):</strong> Partycja logiczna widoczna dla systemu.</li>
    </ul>
    [cite_start]<p>Funkcje: Snapshoty, Thin Provisioning, zmiana rozmiaru online [cite: 353-356].</p>

    <h3>3. Szyfrowanie LUKS</h3>
    <p>Szyfrowanie blokowe (pod systemem plików).</p>
    <p><strong>Kluczowe:</strong> Backup nagłówka LUKS – jego uszkodzenie oznacza utratę wszystkich danych, nawet przy znajomości hasła.</p>

    <h3>4. Struktura katalogów (FHS)</h3>
    <ul>
        [cite_start]<li><strong>/var:</strong> Dane zmienne (logi), zalecane montowanie z nosuid, nodev [cite: 371-373].</li>
        <li><strong>/home:</strong> Dane użytkowników, nosuid, nodev.</li>
        <li><strong>/usr:</strong> Oprogramowanie, można montować jako ro (read-only) dla bezpieczeństwa.</li>
    </ul>

    <h3>5. Systemy plików</h3>
    <ul>
        <li><strong>Tradycyjne (Ext4, XFS):</strong> Dojrzałe, z journalingiem, ale brak wbudowanych snapshotów i sum kontrolnych danych (tylko metadane).</li>
        <li><strong>Nowoczesne (ZFS, Btrfs):</strong></li>
    </ul>
    <ul>
        <li><strong>CoW (Copy-on-Write):</strong> Dane nie są nadpisywane, lecz pisane w nowe miejsce – gwarancja spójności.</li>
        [cite_start]<li><strong>Cechy:</strong> Wbudowany RAID, snapshoty, kompresja, deduplikacja, ochrona przed "bit rot" (sumy kontrolne bloków danych) [cite: 432-436].</li>
    </ul>

    <h3>6. Kopie zapasowe</h3>
    <ul>
        [cite_start]<li><strong>Reguła 3-2-1-1-0:</strong> 3 kopie, 2 nośniki, 1 poza firmą, 1 offline (ochrona przed ransomware), 0 błędów odzyskiwania [cite: 478-480].</li>
        <li><strong>RPO (Recovery Point Objective):</strong> Ile danych możemy stracić (czas wstecz).</li>
        [cite_start]<li><strong>RTO (Recovery Time Objective):</strong> Jak szybko musimy wstać po awarii [cite: 458-460].</li>
    </ul>

    <hr>

    <h2>Wykład 6: Podstawy sieci w systemach Unix/Linux</h2>
    <p>Kompleksowe omówienie konfiguracji sieci, routingu i bezpieczeństwa sieciowego.</p>

    <h3>1. Konfiguracja sieci</h3>
    <ul>
        <li><strong>Model:</strong> W Linuxie stos TCP/IP jest w jądrze, komunikacja z userspace przez gniazda Netlink (AF_NETLINK).</li>
    </ul>
    <p>Narzędzia:</p>
    <ul>
        <li><strong>iproute2 (ip addr, ip link):</strong> Nowoczesny standard zastępujący ifconfig.</li>
        <li><strong>NetworkManager:</strong> Domyślny w desktopach/RHEL (nmcli).</li>
        <li><strong>Netplan:</strong> Konfiguracja YAML (Ubuntu).</li>
        <li><strong>systemd-networkd:</strong> Lekki, idealny do chmury/serwerów.</li>
    </ul>

    <h3>2. Routing</h3>
    <ul>
        <li><strong>Statyczny:</strong> Prosty, ręcznie definiowany (ip route add).</li>
        [cite_start]<li><strong>Dynamiczny:</strong> Protokoły OSPF/BGP (np. daemon bird), automatyczna reakcja na awarie [cite: 532-533].</li>
        <li><strong>Policy Routing:</strong> Kierowanie ruchem na podstawie reguł (np. adresu źródłowego), nie tylko celu. [cite_start]Używa wielu tablic routingu [cite: 535-539].</li>
    </ul>

    <h3>3. Wirtualizacja sieci</h3>
    <ul>
        <li><strong>Network Namespaces:</strong> Izolowane stosy sieciowe (własne interfejsy, routing). Podstawa działania Docker/K8s. [cite_start]Łączone parami veth [cite: 564-573].</li>
        <li><strong>Open vSwitch (OVS):</strong> Zaawansowany wirtualny switch, obsługuje VLAN, VXLAN, OpenFlow, QoS. [cite_start]Używany w wirtualizacji na dużą skalę [cite: 577-584].</li>
    </ul>

    <h3>4. Bezpieczeństwo i diagnostyka</h3>
    <ul>
        <li><strong>Firewall:</strong> iptables (klasyczny) oraz nftables (wydajniejszy następca). [cite_start]Filtrowanie w łańcuchach (INPUT, FORWARD, OUTPUT) [cite: 590-592].</li>
    </ul>
    <p>Diagnostyka:</p>
    <ul>
        <li><strong>ss:</strong> Następca netstat (szybszy, pobiera info z jądra).</li>
        <li><strong>tcpdump/wireshark:</strong> Analiza pakietów.</li>
        <li><strong>mtr:</strong> Ping + traceroute w jednym.</li>
    </ul>

    <hr>

    <h2>Wykład 7: Kontrola dostępu i uprawnień</h2>
    <p>Zarządzanie użytkownikami, modelami uprawnień i eskalacją przywilejów.</p>

    <h3>1. Modele kontroli dostępu</h3>
    <ul>
        <li><strong>DAC (Discretionary):</strong> Właściciel decyduje o prawach (rwx).</li>
        <li><strong>MAC (Mandatory):</strong> System wymusza polityki (SELinux, AppArmor). Chroni system nawet gdy root/aplikacja zostanie skompromitowana.</li>
        <li><strong>RBAC:</strong> Uprawnienia oparte na rolach.</li>
    </ul>

    <h3>2. Zarządzanie uprawnieniami</h3>
    <ul>
        <li><strong>Podstawowe:</strong> chmod (prawa), chown (właściciel).</li>
        [cite_start]<li><strong>ACL (Access Control Lists):</strong> Rozszerzone uprawnienia (setfacl), pozwalają nadać prawa konkretnemu użytkownikowi do pliku bez zmiany grupy właściciela [cite: 614-615].</li>
        <li><strong>SUID/SGID:</strong> Bity specjalne. Program uruchamia się z uprawnieniami właściciela pliku (niebezpieczne, jeśli właścicielem jest root).</li>
    </ul>

    <h3>3. Linux Capabilities</h3>
    <p>Bezpieczna alternatywa dla SUID. Zamiast dawać pełnego roota, dajemy procesowi tylko jedną "zdolność", np. cap_net_raw dla ping (otwieranie surowych gniazd) lub cap_net_bind_service (bindowanie niskich portów).</p>

    <h3>4. Sudo i bezpieczeństwo</h3>
    <ul>
        <li>sudo pozwala na granulację uprawnień.</li>
        <li><strong>Zasada:</strong> Używać visudo do edycji /etc/sudoers. Unikać ALL=(ALL) ALL. Precyzować ścieżki do komend, aby uniknąć podstawienia złośliwego binarium.</li>
    </ul>

    <h3>5. PAM (Pluggable Authentication Modules)</h3>
    <p>Modułowy system logowania. Pozwala np. dodać uwierzytelnianie dwuskładnikowe (Google Authenticator) czy limity zasobów (pam_limits) do SSH lub logowania lokalnego bez rekompilacji programów.</p>
    
    <p>Czy chciałbyś, abym teraz przygotował zestaw pytań kontrolnych lub scenariusz laboratoryjny oparty na tej wiedzy?</p>
</div>
<script>
    // --- BAZA DANYCH PYTAŃ (ZGODNA Z TREŚCIĄ ZADANIA) ---
    // Wszystkie pytania są traktowane jako "Wybierz wszystkie poprawne" (multi)
    // Opcje c: true są ustawione na podstawie sekcji "poprawne odpowiedzi" z promptu.
    
    const rawQuestions = [
        {
            id: 1, text: "Jakie skutki może mieć zamontowanie systemu plików z opcją noexec?",
            options: [
                { t: "Wpływa na prawa odczytu plików.", c: false },
                { t: "Uniemożliwia wykonywanie plików binarnych.", c: true },
                { t: "Ogranicza możliwość uruchamiania złośliwego kodu.", c: true },
                { t: "Powoduje błędy zapisu danych.", c: false }
            ]
        },
        {
            id: 2, text: "Które zadania należą do obowiązków administratora systemu Linux/Unix?",
            options: [
                { t: "Tworzenie aplikacji użytkowych.", c: false },
                { t: "Zarządzanie kontami użytkowników.", c: true },
                { t: "Konfiguracja usług systemowych.", c: true },
                { t: "Kompilacja jądra przy każdej aktualizacji.", c: false }
            ]
        },
        {
            id: 3, text: "Które elementy są niezbędne do podstawowej komunikacji sieciowej hosta?",
            options: [
                { t: "Interfejs sieciowy.", c: true },
                { t: "Brama domyślna.", c: true },
                { t: "System plików.", c: false },
                { t: "Adres IP.", c: true }
            ]
        },
        {
            id: 4, text: "Jakie ryzyka niesie za sobą ręczna modyfikacja plików konfiguracyjnych bez dokumentowania zmian?",
            options: [
                { t: "Utrudnioną diagnostykę błędów.", c: true },
                { t: "Zwiększenie czytelności konfiguracji.", c: false },
                { t: "Problemy podczas aktualizacji lub migracji systemu.", c: true },
                { t: "Trudności w odtworzeniu konfiguracji systemu.", c: true }
            ]
        },
        {
            id: 5, text: "Dlaczego błędy w pliku /etc/fstab są szczególnie niebezpieczne?",
            options: [
                { t: "Mogą powodować długie opóźnienia startu systemu (timeout montowania).", c: true },
                { t: "Mogą uniemożliwić poprawne uruchomienie systemu.", c: true },
                { t: "Powodują automatyczną i nieodwracalną utratę danych.", c: false },
                { t: "Uniemożliwiają aktualizację jądra systemu.", c: false }
            ]
        },
        {
            id: 6, text: "Dlaczego zasada najmniejszych uprawnień jest fundamentem bezpieczeństwa systemów Linux?",
            options: [
                { t: "Ogranicza skutki błędów użytkowników i usług.", c: true },
                { t: "Upraszcza zarządzanie pakietami systemowymi.", c: false },
                { t: "Zmniejsza zakres potencjalnych wektorów ataku.", c: true },
                { t: "Wspiera wielowarstwowy model ochrony systemu.", c: true }
            ]
        },
        {
            id: 7, text: "Jakie mogą być skutki błędnej konfiguracji zależności między jednostkami systemd?",
            options: [
                { t: "System może przejść w tryb awaryjny.", c: true },
                { t: "Może dojść do niedostępności kluczowych usług.", c: true },
                { t: "Zawsze następuje automatyczny restart systemu.", c: false },
                { t: "Usługi mogą uruchamiać się w niewłaściwej kolejności.", c: true }
            ]
        },
        {
            id: 8, text: "Które elementy wpływają na możliwość nawiązywania połączeń sieciowych przez proces?",
            options: [
                { t: "Konfiguracja sieci systemu.", c: true },
                { t: "Uprawnienia użytkownika, z którym działa proces.", c: true },
                { t: "Konfiguracja zapory sieciowej.", c: true },
                { t: "Typ systemu plików.", c: false }
            ]
        },
        {
            id: 9, text: "Dlaczego system logów jest kluczowym elementem administracji systemem Linux?",
            options: [
                { t: "Umożliwia analizę przyczyn awarii i incydentów.", c: true },
                { t: "Eliminuje potrzebę testowania zmian.", c: false },
                { t: "Zastępuje narzędzia monitorujące.", c: false },
                { t: "Pozwala śledzić działania użytkowników i usług.", c: true }
            ]
        },
        {
            id: 10, text: "W systemie Debian 13 zmiana konfiguracji usługi nie przynosi efektu. Co należy sprawdzić w pierwszej kolejności?",
            options: [
                { t: "Czy usługa została ponownie uruchomiona.", c: true },
                { t: "Czy system został zaktualizowany.", c: false },
                { t: "Czy użytkownik posiada konto w systemie.", c: false },
                { t: "Czy zmiany zapisano w odpowiednim pliku konfiguracyjnym.", c: true }
            ]
        },
        {
            id: 11, text: "Które stwierdzenia dotyczące katalogu głównego / są prawdziwe?",
            options: [
                { t: "Jest najwyższym poziomem hierarchii systemu plików.", c: true },
                { t: "Jest punktem montowania innych systemów plików.", c: true },
                { t: "Zawiera pliki konfiguracyjne użytkownika.", c: false },
                { t: "Może zostać usunięty po zamontowaniu /home.", c: false }
            ]
        },
        {
            id: 12, text: "Jaką rolę pełni mechanizm sudo?",
            options: [
                { t: "Umożliwia czasowe podniesienie uprawnień.", c: true },
                { t: "Pozwala wykonywać polecenia z uprawnieniami administratora.", c: true },
                { t: "Zastępuje konto root.", c: false },
                { t: "Działa bez wcześniejszej konfiguracji.", c: false }
            ]
        },
        {
            id: 13, text: "Które stwierdzenia dotyczące jądra systemu operacyjnego są prawdziwe?",
            options: [
                { t: "Jest uruchamiane jako zwykły proces użytkownika.", c: false },
                { t: "Zarządza dostępem do zasobów sprzętowych.", c: true },
                { t: "Odpowiada za interfejs graficzny użytkownika.", c: false },
                { t: "Pośredniczy w dostępie procesów do pamięci.", c: true }
            ]
        },
        {
            id: 14, text: "Które elementy składają się na model uprawnień DAC w systemie Linux?",
            options: [
                { t: "Właściciel pliku.", c: true },
                { t: "Kontekst bezpieczeństwa SELinux.", c: false },
                { t: "Prawa dostępu.", c: true },
                { t: "Grupa pliku.", c: true }
            ]
        },
        {
            id: 15, text: "Które funkcje pełni system plików w systemie Linux?",
            options: [
                { t: "Organizuje dane na nośnikach pamięci.", c: true },
                { t: "Umożliwia hierarchiczną strukturę katalogów.", c: true },
                { t: "Odpowiada za planowanie procesów.", c: false },
                { t: "Zapewnia mechanizmy kontroli dostępu do plików.", c: true }
            ]
        },
        {
            id: 16, text: "Dlaczego wykonywanie kopii zapasowych konfiguracji jest istotne w administracji systemami Linux?",
            options: [
                { t: "Pozwala cofnąć nieudane zmiany konfiguracyjne.", c: true },
                { t: "Umożliwia szybkie odtworzenie systemu po awarii.", c: true },
                { t: "Wspiera ciągłość działania usług.", c: true },
                { t: "Eliminuje potrzebę testowania zmian.", c: false }
            ]
        },
        {
            id: 17, text: "Jaką funkcję pełni system DNS?",
            options: [
                { t: "Tłumaczy nazwy domenowe na adresy IP.", c: true },
                { t: "Zarządza routingiem pakietów.", c: false },
                { t: "Zapewnia szyfrowanie połączeń.", c: false },
                { t: "Umożliwia wskazanie hosta lub usługi na podstawie nazwy.", c: true }
            ]
        },
        {
            id: 18, text: "Dlaczego uruchamianie usług sieciowych z uprawnieniami root jest uznawane za ryzykowne?",
            options: [
                { t: "Zmniejsza wydajność systemu.", c: false },
                { t: "Kompromitacja usługi może prowadzić do pełnego przejęcia systemu.", c: true },
                { t: "Zwiększa potencjalne skutki błędów konfiguracji.", c: true },
                { t: "Narusza zasadę najmniejszych uprawnień.", c: true }
            ]
        },
        {
            id: 19, text: "Które konsekwencje może mieć błędny wpis w pliku /etc/fstab?",
            options: [
                { t: "System plików może zostać zamontowany w trybie tylko do odczytu.", c: true },
                { t: "Jądro zostanie automatycznie zaktualizowane.", c: false },
                { t: "Usługi sieciowe przestaną działać.", c: false },
                { t: "System może nie uruchomić się poprawnie.", c: true }
            ]
        },
        {
            id: 20, text: "Dlaczego w systemach Linux proces potomny dziedziczy deskryptory plików po procesie rodzicu?",
            options: [
                { t: "Umożliwia to przekazywanie strumieni danych między procesami.", c: true },
                { t: "Jest wymagane przez system plików.", c: false },
                { t: "Zapobiega wyciekom pamięci.", c: false },
                { t: "Pozwala na dalsze korzystanie z już otwartych zasobów.", c: true }
            ]
        },
        {
            id: 21, text: "Które stwierdzenia poprawnie opisują różnicę między enabled a active w systemd?",
            options: [
                { t: "Usługa aktywna zawsze jest włączona.", c: false },
                { t: "enabled określa, czy usługa uruchamia się przy starcie systemu.", c: true },
                { t: "Usługa włączona zawsze jest aktywna.", c: false },
                { t: "active oznacza, że usługa aktualnie działa.", c: true }
            ]
        },
        {
            id: 22, text: "Dlaczego restart pojedynczej usługi jest często preferowany zamiast restartu całego systemu?",
            options: [
                { t: "Ogranicza wpływ zmian do konkretnego komponentu.", c: true },
                { t: "Minimalizuje przerwę w dostępności usług.", c: true },
                { t: "Eliminuje potrzebę analizy logów.", c: false },
                { t: "Zawsze rozwiązuje wszystkie problemy systemowe.", c: false }
            ]
        },
        {
            id: 23, text: "Dlaczego mechanizmy MAC są stosowane równolegle z DAC w systemach Linux?",
            options: [
                { t: "Zastępują klasyczne prawa plików.", c: false },
                { t: "Upraszczają konfigurację systemu.", c: false },
                { t: "Ograniczają skutki przejęcia kont użytkowników lub usług.", c: true },
                { t: "Zapewniają dodatkową, niezależną warstwę kontroli dostępu.", c: true }
            ]
        },
        {
            id: 24, text: "Dlaczego monitorowanie systemu jest istotnym elementem administracji?",
            options: [
                { t: "Eliminuje potrzebę dokumentowania zmian.", c: false },
                { t: "Zastępuje mechanizmy kopii zapasowych.", c: false },
                { t: "Pozwala analizować długoterminowe trendy obciążenia.", c: true },
                { t: "Umożliwia wykrywanie problemów zanim wpłyną na użytkowników.", c: true }
            ]
        },
        {
            id: 25, text: "Dlaczego wydzielenie katalogu /home do osobnego systemu plików jest dobrą praktyką administracyjną?",
            options: [
                { t: "Ułatwia reinstalację systemu bez utraty danych użytkowników.", c: true },
                { t: "Zwiększa szybkość działania aplikacji użytkownika.", c: false },
                { t: "Pozwala stosować inne opcje montowania niż dla systemu głównego.", c: true },
                { t: "Eliminuje potrzebę wykonywania kopii zapasowych.", c: false }
            ]
        },
        {
            id: 26, text: "Dlaczego regularne aktualizacje systemu są kluczowe z punktu widzenia bezpieczeństwa?",
            options: [
                { t: "Usuwają znane podatności bezpieczeństwa.", c: true },
                { t: "Zmniejszają ryzyko wykorzystania znanych exploitów.", c: true },
                { t: "Eliminują potrzebę tworzenia kopii zapasowych.", c: false },
                { t: "Mogą wprowadzać poprawki w mechanizmach ochrony systemu.", c: true }
            ]
        },
        {
            id: 27, text: "Dlaczego w systemach Linux zaleca się korzystanie z sudo zamiast bezpośredniego logowania na konto root?",
            options: [
                { t: "Eliminuje potrzebę istnienia konta root.", c: false },
                { t: "Umożliwia rejestrowanie i audyt wykonywanych poleceń.", c: true },
                { t: "Ogranicza czas trwania podwyższonych uprawnień.", c: true },
                { t: "Upraszcza konfigurację kont użytkowników.", c: false }
            ]
        },
        {
            id: 28, text: "Które problemy mogą wystąpić przy błędnej konfiguracji jednostki typu service?",
            options: [
                { t: "Usługa nie uruchomi się po starcie systemu.", c: true },
                { t: "System może przejść w tryb awaryjny.", c: true },
                { t: "Usługa zawsze zostanie automatycznie zrestartowana.", c: false },
                { t: "Konfiguracja interfejsów sieciowych przestanie działać.", c: false }
            ]
        },
        {
            id: 29, text: "Które stwierdzenia dotyczące konta root są prawdziwe?",
            options: [
                { t: "Nie może być zastąpione przez mechanizm sudo.", c: false },
                { t: "Może być bezpiecznie używane do codziennej pracy.", c: false },
                { t: "Posiada nieograniczone uprawnienia w systemie.", c: true },
                { t: "Jest przeznaczone do administracji systemem.", c: true }
            ]
        },
        {
            id: 30, text: "Które cechy charakteryzują wątki w systemach Unix/Linux?",
            options: [
                { t: "Wątki są planowane przez jądro systemu.", c: true },
                { t: "Wątki umożliwiają równoległe wykonywanie zadań.", c: true },
                { t: "Każdy wątek posiada niezależną przestrzeń adresową.", c: false },
                { t: "Wątki współdzielą przestrzeń adresową procesu.", c: true }
            ]
        },
        {
            id: 31, text: "Za co odpowiada planista (scheduler) w systemie Linux?",
            options: [
                { t: "Zarządza strukturą systemu plików.", c: false },
                { t: "Przydziela czas procesora procesom.", c: true },
                { t: "Decyduje o kolejności wykonywania procesów.", c: true },
                { t: "Odpowiada za ładowanie modułów jądra.", c: false }
            ]
        },
        {
            id: 32, text: "Jakie korzyści daje stosowanie mechanizmów MAC (np. SELinux) w systemach Linux?",
            options: [
                { t: "Zastępuje klasyczne prawa dostępu do plików.", c: false },
                { t: "Upraszcza zarządzanie użytkownikami.", c: false },
                { t: "Wprowadza politykę bezpieczeństwa niezależną od modelu DAC.", c: true },
                { t: "Ogranicza skutki przejęcia konta lub usługi.", c: true }
            ]
        },
        {
            id: 33, text: "Które elementy powinny być uwzględnione przy projektowaniu bezpiecznego systemu Linux?",
            options: [
                { t: "Minimalizacja liczby uruchomionych usług.", c: true },
                { t: "Regularne aktualizacje systemu.", c: true },
                { t: "Użycie jednego wspólnego konta administracyjnego.", c: false },
                { t: "Stosowanie zasady najmniejszych uprawnień.", c: true }
            ]
        },
        {
            id: 34, text: "Które elementy świadczą o dojrzałym podejściu do administracji systemem Linux?",
            options: [
                { t: "Świadome i systematyczne zarządzanie bezpieczeństwem.", c: true },
                { t: "Monitorowanie oraz dokumentowanie zmian.", c: true },
                { t: "Ręczna konfiguracja każdego elementu systemu.", c: false },
                { t: "Automatyzacja powtarzalnych zadań administracyjnych.", c: true }
            ]
        },
        {
            id: 35, text: "Po restarcie systemu Debian 13 usługa nie uruchamia się automatycznie. Które przyczyny są możliwe?",
            options: [
                { t: "Usługa jest jednostką typu static.", c: false },
                { t: "Usługa nie została włączona do startu systemu.", c: true },
                { t: "Brak połączenia z Internetem.", c: false },
                { t: "Jednostka systemd zawiera błędną konfigurację.", c: true }
            ]
        },
        {
            id: 36, text: "Które elementy wpływają na bezpieczeństwo systemu Linux?",
            options: [
                { t: "Konfiguracja usług.", c: true },
                { t: "Model uprawnień.", c: true },
                { t: "Wyłącznie hasła użytkowników.", c: false },
                { t: "Wyłącznie zapora sieciowa.", c: false }
            ]
        },
        {
            id: 37, text: "Które stwierdzenia dotyczące systemd są prawdziwe?",
            options: [
                { t: "Zarządza usługami systemowymi.", c: true },
                { t: "Umożliwia definiowanie zależności między jednostkami.", c: true },
                { t: "Odpowiada za kompilację jądra.", c: false },
                { t: "Jest systemem init.", c: true }
            ]
        },
        {
            id: 38, text: "Jakie zagrożenia może powodować niekontrolowane uruchamianie usług przy starcie systemu?",
            options: [
                { t: "Zwiększenie przepustowości sieci.", c: false },
                { t: "Wydłużenie czasu uruchamiania systemu.", c: true },
                { t: "Utrudnioną diagnostykę problemów systemowych.", c: true },
                { t: "Zwiększenie powierzchni ataku systemu.", c: true }
            ]
        },
        {
            id: 39, text: "Które czynniki należy uwzględnić przy aktualizacji systemu Debian 13 na serwerze produkcyjnym?",
            options: [
                { t: "Konieczność restartu usług lub systemu.", c: true },
                { t: "Możliwość przerwy w dostępności usług.", c: true },
                { t: "Zgodność konfiguracji po aktualizacji.", c: true },
                { t: "Aktualną temperaturę procesora.", c: false }
            ]
        },
        {
            id: 40, text: "Dlaczego usługi sieciowe często działają na dedykowanych kontach systemowych?",
            options: [
                { t: "Zmniejsza skutki ewentualnego przejęcia usługi.", c: true },
                { t: "Upraszcza konfigurację systemu DNS.", c: false },
                { t: "Zwiększa wydajność sieci.", c: false },
                { t: "Ogranicza to ich uprawnienia.", c: true }
            ]
        },
        {
            id: 41, text: "Jakie konsekwencje może mieć brak monitorowania usług na serwerze produkcyjnym?",
            options: [
                { t: "Trudności w ocenie stabilności systemu.", c: true },
                { t: "Opóźnione wykrycie awarii.", c: true },
                { t: "Brak danych do analizy incydentów.", c: true },
                { t: "Zwiększenie dostępności systemu.", c: false }
            ]
        },
        {
            id: 42, text: "Do czego służy katalog /etc w systemie Linux?",
            options: [
                { t: "Przechowuje pliki konfiguracyjne systemu.", c: true },
                { t: "Przechowuje pliki binarne programów.", c: false },
                { t: "Jest wykorzystywany do konfiguracji usług.", c: true },
                { t: "Zawiera dane użytkowników.", c: false }
            ]
        },
        {
            id: 43, text: "Jaką rolę pełnią jednostki typu target w systemd?",
            options: [
                { t: "Grupują inne jednostki logicznie.", c: true },
                { t: "Zastępują klasyczne runlevele.", c: true },
                { t: "Odpowiadają za konfigurację sieci.", c: false },
                { t: "Są wykonywane jako procesy.", c: false }
            ]
        },
        {
            id: 44, text: "Które stwierdzenia dotyczące usług sieciowych są prawdziwe?",
            options: [
                { t: "Są zawsze uruchamiane z uprawnieniami root.", c: false },
                { t: "Usługi sieciowe działają jako procesy.", c: true },
                { t: "Mogą być zarządzane przez systemd.", c: true },
                { t: "Nie wymagają konfiguracji.", c: false }
            ]
        },
        {
            id: 45, text: "Które skutki może mieć błędna konfiguracja zapory sieciowej na serwerze?",
            options: [
                { t: "Narażenie systemu na ataki z sieci.", c: true },
                { t: "Utrudnienia w zdalnym zarządzaniu systemem.", c: true },
                { t: "Utrata dostępu do świadczonych usług.", c: true },
                { t: "Zwiększenie wydajności systemu.", c: false }
            ]
        },
        {
            id: 46, text: "Które stwierdzenia poprawnie opisują proces w systemie Linux?",
            options: [
                { t: "Proces jest instancją uruchomionego programu.", c: true },
                { t: "Proces nie posiada własnej przestrzeni adresowej.", c: false },
                { t: "Każdy proces posiada unikalny identyfikator PID.", c: true },
                { t: "Proces zawsze składa się z jednego wątku.", c: false }
            ]
        },
        {
            id: 47, text: "Które konsekwencje może mieć uruchomienie usługi systemowej z uprawnieniami root?",
            options: [
                { t: "Poprawę wydajności usługi.", c: false },
                { t: "Brak konieczności zarządzania uprawnieniami.", c: false },
                { t: "Dostęp usługi do wszystkich zasobów systemowych.", c: true },
                { t: "Zwiększenie potencjalnych skutków podatności w usłudze.", c: true }
            ]
        },
        {
            id: 48, text: "Które informacje są kluczowe przy analizie procesu zużywającego nadmierne zasoby systemowe?",
            options: [
                { t: "Nazwa systemu plików.", c: false },
                { t: "Zużycie pamięci.", c: true },
                { t: "Stan procesu.", c: true },
                { t: "Zużycie procesora.", c: true }
            ]
        },
        {
            id: 49, text: "Które prawa dostępu są definiowane dla plików w systemie Linux?",
            options: [
                { t: "Zapis.", c: true },
                { t: "Wykonanie.", c: true },
                { t: "Dziedziczenie.", c: false },
                { t: "Odczyt.", c: true }
            ]
        },
        {
            id: 50, text: "Dlaczego systemd wykorzystuje zależności między jednostkami?",
            options: [
                { t: "Aby zastąpić mechanizm kontroli dostępu DAC.", c: false },
                { t: "Aby kontrolować kolejność uruchamiania usług.", c: true },
                { t: "Aby ograniczyć zużycie pamięci.", c: false },
                { t: "Aby zapewnić dostępność wymaganych zasobów", c: true }
            ]
        }
    ];

    // Funkcja mieszająca (Fisher-Yates)
    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
        }
        return array;
    }

    // Renderowanie pytań
    function renderQuiz() {
        const quizArea = document.getElementById('quiz-area');
        // Mieszanie kolejności pytań
        const shuffledQuestions = shuffle([...rawQuestions]);

        shuffledQuestions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'q-card';
            
            // Nagłówek
            card.innerHTML = `<div class="q-header">
                <span>${index + 1}. ${q.text}</span>
                <span class="badge">Wielokrotny wybór</span>
            </div>`;

            // Kontener opcji
            const list = document.createElement('div');
            list.className = 'options-list';
            
            // Mieszanie opcji wewnątrz pytania
            const shuffledOptions = shuffle([...q.options]);

            shuffledOptions.forEach((opt) => {
                const label = document.createElement('label');
                label.className = 'opt-label';
                
                // Input checkbox
                const input = document.createElement('input');
                input.type = 'checkbox';
                input.value = opt.c; // true/false jako string
                
                label.appendChild(input);
                // Usunięcie ewentualnych prefiksów "a.", "b." z tekstu dla estetyki po przemieszaniu
                const cleanText = opt.t.replace(/^[a-z]\.\s+/, '');
                label.appendChild(document.createTextNode(cleanText));
                
                list.appendChild(label);
            });

            card.appendChild(list);

            // Przycisk sprawdzania
            const btn = document.createElement('button');
            btn.className = 'btn-check';
            btn.innerText = 'Sprawdź odpowiedź';
            
            btn.onclick = () => {
                const inputs = list.querySelectorAll('input');
                let allCorrect = true;

                inputs.forEach(inp => {
                    const parent = inp.parentElement;
                    parent.classList.remove('correct', 'wrong', 'missed');
                    
                    const isCorrect = inp.value === 'true';
                    const isChecked = inp.checked;

                    if (isChecked) {
                        if (isCorrect) {
                            parent.classList.add('correct');
                        } else {
                            parent.classList.add('wrong');
                            allCorrect = false;
                        }
                    } else {
                        // Jeśli odpowiedź była poprawna, ale nie zaznaczona
                        if (isCorrect) {
                            parent.classList.add('missed');
                            allCorrect = false;
                        }
                    }
                });
                
                btn.innerText = allCorrect ? 'Świetnie! Poprawna odpowiedź' : 'Sprawdź poprawki';
                btn.style.background = allCorrect ? '#00b894' : '#e95420';
            };

            card.appendChild(btn);
            quizArea.appendChild(card);
        });
    }

    // Start
    renderQuiz();

</script>

</body>
</html>
